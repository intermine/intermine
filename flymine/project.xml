<project type="bio">
  <property name="target.model" value="genomic"/>
  <property name="common.os.prefix" value="common"/>
  <property name="intermine.properties.file" value="flymine.properties"/>
  <property name="default.intermine.properties.file" location="../default.intermine.integrate.properties"/>
  <sources>
    <source name="flybase-identifiers" type="flybase-identifiers">
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/"/>
      <property name="src.data.dir.includes" value="fbgn_annotationID.tsv"/>
    </source>
    <source name="flybase-dmel-gff" type="flybase-gff">
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/gff"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="gff3.taxonId" value="7227"/>
    </source>
    <source name="flybase-dpse-gff" type="flybase-gff">
      <property name="src.data.dir" location="/shared/data/flybase/dpse/dpse_r20_20051018/gff"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="gff3.taxonId" value="7237"/>
    </source>
    <source name="flybase-gene-names" type="flybase-gene-names">
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/"/>
      <property name="src.data.dir.includes" value="fb_synonym_truegenes.tsv"/>
    </source>
    <source name="wormbase-identifiers" type="wormbase-identifiers">
      <property name="src.data.dir" location="/shared/data/wormbase/current"/>
    </source>
    <source name="uniprot" type="uniprot" dump="true">
      <property name="uniprot.organisms" value="7227 7237 6239 180454 7460 4932 9606 10090"/> 
      <property name="src.data.dir" location="/shared/data/uniprot/current"/>
      <property name="createinterpro" value="false"/>
      <property name="use.split.files" value="true"/>
    </source>
    <source name="uniprot-keywords" type="uniprot-keywords">
      <property name="src.data.dir" location="/shared/data/uniprot/current"/>
      <property name="src.data.dir.includes" value="keydef.xml"/>
    </source>
    <source name="rnai" type="rnai">
      <property name="src.data.dir" location="/shared/data/rnai/wormbase/current"/>
    </source>
    <source name="mage" type="mage">
      <property name="src.data.dir" location="/shared/data/mage/arbeitman"/>
      <property name="quantitationtypes" value="Signal med ratio"/>
    </source>
    <source name="bdgp-clone" type="bdgp-clone">
      <property name="src.data.dir" location="/shared/data/bdgp_clones"/>
      <property name="src.data.dir.includes" value="dgc2flybase.txt"/>
    </source>
    <source name="flyrnai-screens" type="flyrnai-screens">
      <property name="taxonId" value="7227"/>
      <property name="src.data.dir" location="/shared/data/DRSC/current"/>
    </source>
    <source name="long_oligo" type="long_oligo">
      <property name="gff3.taxonId" value="7227"/>
      <property name="gff3.seqClsName" value="MRNA"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="src.data.dir" location="/shared/data/long_oligo"/>
    </source>
    <source name="drosdel-gff" type="drosdel-gff">
      <property name="gff3.taxonId" value="7227"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="src.data.dir" location="/shared/data/liftover/drosdel/combined"/>
    </source>
    <source name="ensembl-anopheles" type="ensembl" dump="true">
      <property name="organism" value="AGP"/>
    </source>
    <source name="ensembl-apis-mellifera" type="ensembl">
      <property name="organism" value="AM"/>
    </source>
    <source name="flyreg" type="flyreg">
      <property name="gff3.taxonId" value="7227"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="src.data.dir" location="/shared/data/liftover/flyreg"/>
    </source>
    <source name="interpro" type="interpro">
      <property name="interpro.organism.taxid.list" value="6239,7227,180454"/>
    </source>
    <source name="homophila" type="homophila">
      <property name="src.data.dir" location="/shared/data/homophila/current"/>
      <property name="src.data.dir.includes" value="homophila_matches.txt"/>
      <property name="diseasefile" location="/shared/data/homophila/current/homophila_diseases.txt"/>
      <property name="proteingenefile" location="/shared/data/homophila/current/protein_gene.txt"/>
    </source>
    <source name="tiling_path" type="tiling_path" dump="true">
      <property name="gff3.taxonId" value="7227"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="src.data.dir" location="/shared/data/liftover/tiling/"/>
    </source>
    <source name="kegg-pathway" type="kegg-pathway">
      <property name="src.data.dir" location="/shared/data/kegg/current"/>
    </source>
    <source name="flyatlas" type="flyatlas">
      <property name="src.data.dir" location="/shared/data/flyatlas/current"/>
    </source>
    <source name="affy-probes" type="affy-probes">
      <property name="src.data.dir" location="/shared/data/affy-probes"/>
    </source>
    <source name="tiffin" type="tiffin" dump="true">
      <property name="gff3.taxonId" value="7227"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="Sanger"/>
      <property name="src.data.dir" location="/shared/data/tiffin/tiffin1.2"/>
    </source>
    <source name="anoest" type="anoest">
      <property name="source.db.name" value="anoest"/>
    </source>
    <source name="protein_structure" type="protein_structure">
      <property name="src.data.dir" location="/shared/data/kenji/data/all/"/>
    </source>
    <source name="psi-intact" type="psi">
      <property name="src.data.dir" location="/shared/data/psi/intact/current"/>
      <property name="organisms" value="7227 6239 4932"/>
    </source>
    <source name="psi-mi-ontology" type="psi-mi-ontology">
      <property name="src.data.file" location="/shared/data/psi/ontology/current/psi-mi.obo"/>
    </source>
    <source name="go" type="go">
      <property name="src.data.file" location="/shared/data/go-annotation/gene_ontology.obo"/>
    </source>
    <source name="go-annotation" type="go-annotation" dump="true">
      <property name="ontologyfile" location="/shared/data/go-annotation/gene_ontology.obo"/>
      <property name="src.data.dir" location="/shared/data/go-annotation/current"/>
      <property name="src.data.dir.includes" value="*/gene_association*"/>
    </source>
    <source name="geneid-translationid" type="intermine-items-large-xml-file">
      <property name="src.data.file" location="/shared/data/orthologues/inparanoid/geneid2peptideid/current/geneId2peptideId.xml"/>
    </source> 
    <source name="inparanoid-orthologue" type="orthologue" dump="true">
      <property name="src.data.dir" location="/shared/data/orthologues/inparanoid/current/"/>
    </source>
    <source name="flybase-dmel-gene-fasta" type="fasta">
      <property name="fasta.taxonId" value="7227"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Gene"/>
      <property name="fasta.classAttribute" value="organismDbId"/>
      <property name="fasta.includes" value="dmel-all-gene-*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/fasta"/>
    </source>
    <source name="flybase-dmel-translation-fasta" type="fasta">
      <property name="fasta.taxonId" value="7227"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Translation"/>
      <property name="fasta.classAttribute" value="organismDbId"/>
      <property name="fasta.includes" value="dmel-all-translation-*.fasta"/>
      <property name="fasta.sequenceType" value="protein"/>
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/fasta"/>
    </source>
    <source name="flybase-dpse-gene-fasta" type="fasta">
      <property name="fasta.taxonId" value="7237"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Gene"/>
      <property name="fasta.classAttribute" value="organismDbId"/>
      <property name="fasta.includes" value="dpse-all-gene-*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dpse/dpse_r20_20051018/fasta"/>
    </source>
    <source name="flybase-dpse-translation-fasta" type="fasta">
      <property name="fasta.taxonId" value="7237"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Translation"/>
      <property name="fasta.classAttribute" value="identifier"/>
      <property name="fasta.includes" value="dpse-all-translation-*.fasta"/>
      <property name="fasta.sequenceType" value="protein"/>
      <property name="src.data.dir" location="/shared/data/flybase/dpse/dpse_r20_20051018/fasta"/>
    </source>
    <source name="flybase-dpse-transcript-fasta" type="fasta">
      <property name="fasta.taxonId" value="7237"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Transcript"/>
      <property name="fasta.classAttribute" value="identifier"/>
      <property name="fasta.includes" value="dpse-all-transcript-r*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dpse/dpse_r20_20051018/fasta"/>
    </source>
    <source name="flybase-dmel-transcript-fasta" type="fasta">
      <property name="fasta.taxonId" value="7227"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Transcript"/>
      <property name="fasta.classAttribute" value="organismDbId"/>
      <property name="fasta.includes" value="dmel-all-transcript-r*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/fasta"/>
    </source>
    <source name="flybase-dmel-chromosome-fasta" type="fasta">
      <property name="fasta.taxonId" value="7227"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Chromosome"/>
      <property name="fasta.includes" value="dmel-all-chromosome-*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/fasta"/>
    </source>
    <source name="flybase-dpse-chromosome-fasta" type="fasta">
      <property name="fasta.taxonId" value="7237"/>
      <property name="fasta.className" value="org.flymine.model.genomic.Chromosome"/>
      <property name="fasta.includes" value="dpse-all-chromosome-*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dpse/dpse_r20_20051018/fasta"/>
    </source>
     <source name="ncbigene2pubmed" type="intermine-items-xml-file">
	<property name="src.data.file" location="/shared/data/pubmed/current/ncbiID_pubmedID.xml"/>
      <property name="ignore.duplicates" value="true"/>
    </source>   
    <source name="redfly" type="redfly">
      <property name="gff3.taxonId" value="7227"/>
      <property name="gff3.seqClsName" value="Chromosome"/>
      <property name="gff3.seqDataSourceName" value="FlyBase"/>
      <property name="src.data.dir" location="/shared/data/liftover/redfly"/>
    </source>
    <source name="fly-anatomy-ontology" type="fly-anatomy-ontology">
      <property name="src.data.file" location="/shared/data/ontologies/fly_anatomy/current/fly_anatomy.obo"/>
    </source>
    <source name="flybase-dmel-cds-fasta" type="fasta">
      <property name="fasta.taxonId" value="7227"/>
      <property name="fasta.idSuffix" value="-cds"/>
      <property name="fasta.className" value="org.flymine.model.genomic.CDS"/>
      <property name="fasta.includes" value="dmel-all-CDS-*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dmel/release_5_1/fasta"/>
    </source>
    <source name="flybase-dpse-cds-fasta" type="fasta">
      <property name="fasta.taxonId" value="7237"/>
      <property name="fasta.idSuffix" value="-cds"/>
      <property name="fasta.className" value="org.flymine.model.genomic.CDS"/>
      <property name="fasta.includes" value="dpse-all-CDS-*.fasta"/>
      <property name="src.data.dir" location="/shared/data/flybase/dpse/dpse_r20_20051018/fasta"/>
    </source>
    <source name="entrez-organism" type="entrez-organism">
      <!-- this source finds the taxon ids in the objectstore, retrieves
           species name and genus from Entrez into an InterMine format XML
           file, loads that file into a target items DB, then into the final
           objectstore -->
      <property name="src.data.file" location="build/organisms.xml"/>
    </source>
    <source name="flymine-static" type="intermine-items-xml-file">
      <property name="src.data.file" location="datasets.xml"/>
    </source>
    <source name="update-publications" type="update-publications" dump="true">
      <!-- this source finds the publication ids (pubmed ids) in the
           objectstore, retrieves the details of the publication from Entrez
           into an InterMine format XML file, loads that file into a target
           items DB, then into the final objectstore -->
      <property name="src.data.file" location="build/publications.xml"/>
    </source>
  </sources>

  <post-processing>
    <post-process name="create-utr-references"/>
    <post-process name="calculate-locations"/>
    <post-process name="create-references" dump="true"/>
    <post-process name="make-spanning-locations"/>
    <post-process name="create-chromosome-locations-and-lengths"/>
    <post-process name="create-intergenic-region-features"/>
    <post-process name="transfer-sequences" dump="true"/>
    <post-process name="create-overlap-relations-flymine" dump="true"/>
    <post-process name="do-sources"/>

    <post-process name="set-collection-counts" dump="true"/>
    <post-process name="create-intron-features"/>
    <post-process name="synonym-update"/>
    <post-process name="create-attribute-indexes"/>

    <!-- grant-db-production/
    TODO: Not really post processing but just has to be done sometime...
  <target name="grant-db-production" depends="prepare" - ->
    <!- - grant 'public' user select permission on production db - ->
    <taskdef name="grant" classname="org.intermine.task.GrantTask">
      <classpath refid="models.class.path"/>
    </taskdef>

    <grant database="db.production" user="PUBLIC" perm="SELECT"/>

  </target>
    -->
  </post-processing>

</project>

