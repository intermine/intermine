<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE set PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
          "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">


<set>
  <title>FlyMine User Manual</title>

<book id="flymineManual">
  <title>
    FlyMine Manual
  </title>

  <bookinfo>
    <productname>
      <emphasis>FlyMine</emphasis> - An integrated database for Drosophila and
      Anopheles genomics 
    </productname>
    <pubdate>October 2006</pubdate>
    <copyright>
      <year>2002,2003,2004,2005</year>
      <holder>FlyMine</holder>
    </copyright>
    <legalnotice>
      <para>
        Permission is granted to copy, distribute and/or modify this document
        under the terms of the GNU Free Documentation License, Version 1.2 or
        any later version published by the Free Software Foundation; with no
        Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
        copy of the license is included in <xref linkend="docLicence"/>.
      </para>
      <para>
        The FlyMine source code is license under the GNU Lesser General Public
        License.  For the full text see <xref linkend="sourceLicence"/>.
      </para>
    </legalnotice>
    <abstract>
      <para>
        This document describes release 7.0 of the FlyMine Drosophila and Anopheles
        integrated genomics database.
      </para>
    </abstract>
  </bookinfo>


  <chapter id="manualIntroduction">
   <title>Introduction</title>

   <sect1 id="manualQueryFlyMine">
      <title>Ways to query FlyMine</title>

        <para> FlyMine provides three web-based ways to query the
        integrated data: A Quick Search, predefined template queries
        and a Query Builder. The FlyMine introduction 'What can I do
        with FlyMine' shows a very brief overview of how to use
        FlyMine. </para>

      <orderedlist numeration="upperalpha">
       <listitem>
        <para> Quick Search: Allows you to browse the database,
        starting from a particular name or identifier. This is very
        useful if you do not have a particular query you want to run
        and want to browse all the information or specific information
        about a particular entry in the database. A Quick Search box
        is available on the FlyMine homepage and in the top menu bar
        on every FlyMine page. See <xref linkend="manualQuickSearch"/>
        and <ulink
        url="../tutorials/tutorial1-QuickSearch.xml">Tutorial
        1</ulink>. </para> </listitem>

       <listitem>
         <para> Template queries: These predefined queries provide
         quick and easy access to the data. A template query basically
         consists of a form, in which you fill in the boxes to define
         your query. Template queries range from fairly simple queries
         to complex queries covering two or more datasets or data
         aspects. See <xref linkend="manualTemplateQueries"/> and
         <xref linkend="manualAspects"/> and <ulink
         url="../tutorials/tutorial3-Templates.xml">Tutorial
         3</ulink>.  </para> </listitem>

       <listitem>
          <para> The Query Builder: Advanced users can use a flexible
          query interface to construct their own data mining queries
          across the multiple integrated data sources, to modify
          existing template queries or to create their own template
          queries. Access the FlyMine Query Builder via the <link
          linkend="manualFlyMineHome">FlyMine homepage</link>
          or choose a query starting point on an aspect
          page. See <xref linkend="manualQueryBuilder"/> and <ulink
         url="../tutorials/tutorial6-QB.xml">Tutorial
         6</ulink>.</para>
       </listitem>

      </orderedlist>

   </sect1>

   <sect1 id="manualFlyMineHome">  
     <title>The FlyMine homepage</title> 

	<para> The FlyMine homepage provides four main routes
          to access the different query methods. </para>
 
      <orderedlist numeration="upperalpha">
        <listitem>
          <para> Quick Search: a Quick Search box is clearly available
          on the homepage as well as in the top menu bar on every
          FlyMine page. See <xref
          linkend="manualQuickSearch"/>.</para> </listitem>

        <listitem>
          <para> Aspects: FlyMine presents data as 'aspects' with each
          aspect providing a view of the different types of data
          available. The FlyMine homepage shows all the aspects that
          are available. Clicking on an aspect icon will bring you to
          the aspect homepage. Each aspect provides details about
          data available for the particular data type, access to the
          Query Builder from starting points relevant to that data
          type and a list of related template queries. See <xref
          linkend="manualAspects"/>. </para>

        </listitem>

        <listitem>
          <para> Template search: allows searching of all the template
          queries available via keywords. See <xref
          linkend="manualTemplateQueries"/>. </para>
        </listitem>

       <listitem>
          <para> The Query Builder: allows you to build your own
          queries and is the most advanced way to access the data.
          You can access the Query Builder by clicking on 'List all
          classes' at the bottom of the FlyMine homepage and selecting
          one class as a starting point. Alternatively, you can use
          the 'Browse model' option at the bottom of the FlyMine
          homepage and browse to the class you are interested
          in. Finally, you can choose a query starting point on an
          aspect page. See <xref
          linkend="manualQueryBuilder"/>. </para> 
      </listitem>

      </orderedlist>

      <para> The FlyMine homepage also provides information related to
      the FlyMine database and the FlyMine project via the menu bar on
      the left.</para>

   </sect1>

  </chapter>

  <chapter id="manualObjectDetails">
    <title>Object details pages</title>

    <para> For every object in the FlyMine database there is an object
    details page which provides all the fields, references and
    collections for that object (see <xref linkend="manualDataModel"/>
    for an explanation of these concepts) along with additional
    information such as the GBrowse genome viewer for sequence
    features. Object details pages can be accessed using the Quick
    Search option on the FlyMine homepage or on the top menu bar of
    every FlyMine page, or from result tables by clicking on an
    object that provides a link. If you are using the Quick Search
    box, you may be taken to an object details page directly if only
    one object in the database matches your search.  All object
    details pages have the same basic structure: The top part provides
    summary information for every object, whereas the lower part,
    'Other details by aspect' has more detailed information divided
    into 'aspects'. The aspects correspond to categories of data shown
    on the FlyMine homepage. (See <ulink
    url="../tutorials/tutorial2-ObjectDetailPage.xml">Tutorial 2</ulink> for more
    information).</para>

   <sect1>
     <title>Example: Object details page for your gene of choice.</title> 


       <para> A. The top left shows summary information for
       the gene - identifier, name and chromosome coordinates. Use the
       '+' boxes next to 'proteins', 'synonyms', etc. to open in-line
       tables with more details. The 'FASTA' buttons retrieve
       sequences for any feature they appear next
       to.</para>

      <para> B. The top right presents additional information for the
      object as well as links to external reports:</para>

     <itemizedlist>
     <listitem><para> A link to the gene report of the relevant model
     organism database.</para></listitem>

     <listitem><para> A GBrowse image for the area surrounding this
     gene. Clicking on the image takes you to the GBrowse genome
     viewer. Clicking on any feature in GBrowse will take you to an
     Object details page in FlyMine.</para></listitem>

     <listitem><para> An image of the temporal expression of the gene according to Arbeitman et al.
      (2002), if available (e.g. CG3936).</para></listitem>

    <listitem><para> A link to FlyExpress data, if available (e.g. CG2328).</para></listitem>
     </itemizedlist>


     <para> C. Scroll down the page to see 'Other details by
     aspect': This section has more detailed information about this
     gene divided into 'aspects'. The aspects correspond to categories
     of data shown on the FlyMine homepage.</para>

     <itemizedlist>
     <listitem><para> Entries in green show fields directly related to the
      object. Use '+' boxes to open summary tables.</para></listitem>

     <listitem><para> Entries in black text allow you to see the results of
      <link linkend="manualTemplateQueries">predefined template
      queries</link> run for the object ('templates' See <ulink
      url="../tutorials/tutorial3-Templates.xml">Tutorial 3</ulink>).
      Those shown in light grey did not return any results.</para></listitem>


     <listitem><para> - '[details...]' links take you to Object details pages
     for related database entries.</para></listitem>
     </itemizedlist>



 </sect1>

  </chapter>

  <chapter id="manualQuickSearch">
    <title>Quick Search</title>

          <para> The Quick Search option can be accessed on the
          FlyMine homepage as well as on the top menu bar of every
          FlyMine page. The Quick Search option provides an easy way
          for users to retrieve objects where a name or identifier is
          known, and browse all data available for that object and
          related objects. </para>

          <para> Entering any object identifier (such as a gene name
          or identifier) will take you straight to the <link
          linkend="manualObjectDetails">Object details page</link> for
          that object and <link
          linkend="manualFlyMineIdentifiers">identifier</link>. Wild
          cards (*) can be attached to any text entered to increase
          the scope of your search. A wild card added to the end of
          the text will search for anything beginning with that text
          (e.g. zen* will search zen and anything that begins with zen
          - and so your query could return several results such as
          zen, zen2 and zen-4).  A * added to the beginning of your
          text will search for anything that ends in that text
          (e.g. *_DROME will search for all entries ending in _DROME -
          i.e. all the Drosophila entries in Uniprot). Quick Search is
          case-insensitive.  In cases where more than one object is
          returned by your Quick Search, the results will provide a
          list of objects which match the query. Clicking on any of
          them will take you to the corresponding details pages for
          each object. For additional help, see also <ulink
          url="../tutorials/tutorial1-QuickSearch.xml">Tutorial
          1</ulink> </para>

  </chapter>

  <chapter id="manualAspects">
    <title>Data aspects</title>

         <para> The FlyMine website presents the principle data types
          grouped together as different 'aspects', such as protein
          interactions or gene expression. The aspects allow
          researchers to easily focus on a particular type of data
          and, for instance, easily identify relevant template
          queries. Currently, FlyMine contains 13 different aspects. A
          particular aspect can be accessed by clicking on the
          corresponding icon on the FlyMine homepage, or by selecting
          the aspect from the drop-down menu at the right side of any
          FlyMine page: <inlinemediaobject><imageobject><imagedata
          fileref="gotoaspect.gif"
          /></imageobject></inlinemediaobject>. </para>

          <para> Each aspect page lists: </para>

       <itemizedlist>

          <listitem><para> Current data: background information on the
          origin of particular source datasets (e.g. literature
          references and links to source databases),</para>
          </listitem>

          <listitem><para> Bulk download: access to convenient
          derivative bulk datasets for browsing or export in standard
          format,</para></listitem>

          <listitem><para> Related template queries: relevant <link
          linkend="manualTemplateQueries">predefined template
          queries</link>. The template queries available for a
          particular aspect range from simple queries to retrieve just
          one data type to more complex queries which incorporate data
          from other aspects,</para></listitem>

          <listitem><para> Query starting points: classes for use as
          starting points in the <link
          linkend="manualQueryBuilder">Query Builder</link>. </para>
          </listitem>

       </itemizedlist>
 
  </chapter>

  <chapter id="manualTemplateQueries">
    <title>Predefined template queries</title>

   <sect1>
      <title>Introduction</title>

    <para> To enable users to quickly and easily carry out a range of
    queries, both simple and complex, FlyMine includes a growing
    library of predefined 'template' queries. Templates provide a
    description of a predefined query with a form to fill in a number
    of constraints. Default values are always provided so that example
    output can be generated immediately. The variables define
    constraints (or filters) on one or more types of data, for example
    by requiring that a gene name includes the string of letters
    "twi". The variable can either be a single value or a list of
    objects (i.e. a <link linkend="manualBags">bag</link>). This
    ability to constrain a template query to a list of objects is a
    particularly powerful feature, enabling a large amount of data to
    be collected very quickly. Templates range from relatively simple
    queries to more complex queries, integrating two or more
    datasets. Users are able to select individual templates
    and add them to a 'favourites' list available from their <link
    linkend="manualMyMine">account or 'MyMine'</link> page. To
    set a template as a favourite, click on the star icon by the
    template query. Templates are created by biologists at FlyMine from
    within the web interface. Further templates can be added at any
    time and more template queries will be added as FlyMine
    develops. Suggestions from the research community are
    welcomed.</para>

    <para> Importantly, since template queries can (optionally) be
    displayed in the <link linkend="manualQueryBuilder">Query
    Builder</link> page before being executed, it is possible for a
    user to modify any template.  Thus templates can be used as a
    starting point in the generation of related queries.  Note: this
    feature acts as a training tool for the Query Builder, by allowing
    users to first understand the function of a query through
    executing it, and then by allowing them to examine the underlying
    structure of the query in the Query Builder. </para>

    <para> In addition to the predefined template library, users are
    able to create and save their own template queries from any query
    constructed using the Query Builder interface.  This complements
    the query history and allows users to build their own library of
    useful functionality.  Templates can be <link
    linkend="manualImportExportQueries">exported and imported</link>
    as XML, thus facilitating the sharing of templates between users.
    </para>

   </sect1>

   <sect1 id="manualAccessTemplates">
      <title>Accessing template queries</title>

    <para> Template queries can be accessed in the following ways:</para>

    <orderedlist numeration="upperalpha">
      <listitem>
       <para> Using the 'Template search' option on the FlyMine
        homepage. Enter one or more keywords to find predefined
        template queries relating to a certain type of data. Select
        'Public templates' to search predefined templates, 'My
        templates' to search templates you have created and saved
        yourself or 'Everything' to search all templates. The results
        are graded by similarity to the search terms. An option to
        view the full list of all templates is also available by
        clicking on 'View all template queries'. </para> </listitem>

      <listitem>
       <para> Using the 'Search templates' option on the top menu bar
       of every FlyMine page, which has the same features as mentioned
       above. </para> </listitem>

      <listitem>
       <para> Every <link linkend="manualAspects">aspect</link> has a
       list of templates related to the data presented in that
       particular aspect. Note that a template query may appear on
       more than one aspect page if it combines data from more than
       one aspect. </para> </listitem>

      <listitem>
       <para> <link linkend="manualObjectDetails">Object detail
       pages</link> list templates queries that have been pre-run for
       that particular object. </para>
      </listitem>

     <listitem>
       <para> <link linkend="manualbagDetailsPage">Bag details pages</link>
       list templates queries that have been pre-run for the set of
       objects in the bag. </para>
      </listitem>

    </orderedlist>

       <para> In all cases: Clicking on the 't' next to the template
       text will show the template page. </para>

       <para> Templates queries are listed using a title with the
       format, (e.g) 'GO term identifier --> Genes in one specific
       organism', where the part before the arrow refers to the query
       starting point, and the part after the arrow to the query
       output. Such a format allows easy scanning of lists of template
       queries. On the template page itself, a more complete
       description of what the template does is also given: e.g. for
       the previous example: 'Search for genes annotated with a
       particular GO term'. Templates range from relatively simple
       queries, such as 'Gene --> Orthologues (Search for predicted
       orthologues for a particular gene)' to more complex queries,
       integrating two or more datasets: like 'Gene --> Protein +
       Interacting Proteins + Pfam domain with predicted 3-D structure
       (For the protein product of a particular gene, show any
       proteins it has been shown to interact with and for these
       proteins their Pfam domain content').</para>
 
  </sect1>
  
  <sect1 id="manualRunTemplates">
      <title>How to run a template query</title>

    <para> For an example, see <ulink url="../tutorials/tutorial3-Templates.xml">Tutorial 3</ulink>. </para>

    <para> To run a template query: </para>

    <orderedlist>
      <listitem>
       <para> <link linkend="manualAccessTemplates">Select the
       template query</link> you wish to run. Pressing the 't' next to
       the template title will take you to the template form, where
       you will find a more complete description of the
       template. </para> 
       </listitem>

      <listitem>
       <para> Fill in the boxes with the appropriate values or leave
       them with the default values shown.</para>
      </listitem>


	<listitem><para> Any variable (box) in a template query can be
       constrained to a <link linkend="manualBags">bag</link> (or 'not
       in' a bag) rather than a single value, provided you have a bag
       of the correct type saved in <link
       linkend="manualMyMine">'MyMine'</link>.  For example, if you
       want to run a particular query for a list of genes rather than
       a single gene, you can create a bag of genes and run a template
       query using this bag.  To constrain a query to a bag, select
       the checkbox underneath the variable box and choose the bag
       from the drop-down list.</para></listitem>



      <listitem>
 
       <para> Pressing the 'Show Results' button will take you
       directly to the <link linkend="manualResults">results</link>
       page.  Pressing the 'Edit Query' button will display the
       template query in the FlyMine <link
       linkend="manualQueryBuilder">Query Builder</link>.  Here you
       can either use the template as a starting point for building a
       more complex query, edit the query or simply run the query as
       it is.  Press 'Show Results' to run your query. </para>

      </listitem>

    </orderedlist>

  </sect1>

  <sect1 id="manualCreateTemplates">
    <title>Creating your own template queries</title>

        <para> For an example, see <ulink url="../tutorials/tutorial7-buildtemplate.xml">Tutorial 7</ulink>. </para>

        <para> Any query that has been built using the FlyMine <link
        linkend="manualQueryBuilder">Query Builder</link> can be saved
        as a template query, as long as it includes at least one
        editable constraint.  Templates that you create yourself are
        saved to your <link
        linkend="manualMyMine">account</link>. </para>

    <orderedlist>
      <listitem>
        <para> In order to build a template you need to
        be <link linkend="manualLoggingIn">logged-in</link> to
        FlyMine.</para>
      </listitem>

      <listitem>
        <para> The easiest way to start building a template is to
        start from an existing template. Alternatively, a starting
        point for the Query Builder can be selected from the FlyMine
        homepage ('List all classes') or from an aspect page ('Query
        starting points') (see <xref linkend="manualStartQB"/>). In
        either case, click on 'Start building a template query' on the
        Query Builder page to get started. </para>
      </listitem>

      <listitem>
        <para> In order to save a query as a template it is necessary
        to define which of the constraints in the query will be
        editable in the template (there must be at least one
        'editable' constraint in the query). To make a constraint
        editable, click on the lock next to the constraint: A field
        with 'Template constraint settings' will appear in the right
        column. Click in the check-box next to 'Editable'. At the same
        time, it is possible to add a label to the editable constraint
        (optional) to clarify what it is, in the 'Constraint label'
        box. Click on the 'Update' button in this field. The label
        will appear on the template page after creating the template
        (see below). </para>

        <para> An editable constraint will have an open lock in the
        constraint list, whereas the lock of a constraint that cannot
        be edited will appear locked. The label of the editable
        constraint will appear below the constraint, in
        italics. </para>

        <para> If no label was added after a constraint was made
        editable, 'no label' will appear under the
        constraint. Clicking on 'no label' allows you to add a
        label. Click on 'Update' to implement the change. The label
        you give will appear next to the constraint box on the
        template page and should provide direction as to what sort of
        constraint should be added. </para>
      </listitem>

      <listitem>
        <para> Each new template requires a name and a title. A
        description and comment are optional. All will appear in your
        list of template queries, after creating the template (see
        below). Only the title and description will appear on the
        template page. Therefore, they should provide as much
        information as possible about what the template will do and
        make it distinguishable from other template queries. After
        filling at least the 'Name' and 'Title' boxes, click on
        'Update settings' below the boxes. </para> </listitem>

      <listitem>
        <para> Before creating a template, preview the template using
        the black arrow next to 'Template preview' and make any
        changes, if necessary. To save this query as a template, click
        on 'Save template'. </para>
      </listitem>

      <listitem>
        <para> You will be able to view and run this template from
        your <link linkend="manualMyMine">MyMine page</link>. Access
        your account via the 'MyMine' button in the top menu bar on
        every FlyMine page. Your templates will be saved under 'Saved
        Templates'. To go to a template page, click on 'Run' in the
        'Actions' column. To mark a template as a favourite, click on
        the star icon next to the template name. As a result, the star
        will become yellow and the template will appear under
        'Favourite Templates' in your MyMine account. Once a template
        has been created, it can still be edited, by clicking on
        'Edit' in the 'Actions' column. Template queries can also be
        <link linkend="manualImportExportQueries">exported and
        imported </link> in XML format. This feature allows you to
        pass a query on to someone else. </para> </listitem>
        </orderedlist> </sect1>

  </chapter>

     
  <chapter id="manualQueryBuilder">
    <title>The FlyMine Query Builder</title>

     <sect1>
      <title>Introduction</title>

	<para> The FlyMine Query Builder allows you to construct
        queries on the data in the FlyMine database. The Query Builder
        interface enables you to browse through classes and fields of
        the data model, selecting those that you wish to constrain and
        those that you wish to include in your results. </para>

	<para> Different types of data in FlyMine are described by
        classes.  For example, information describing genes is 'held'
        in the 'Gene' class. A class contains fields to hold specific
        information about the type of item it is describing. For
        example, the Gene class includes the fields 'name' and
        'identifier'. Each item within a class is called an
        object. For example the 'Notch' gene is an object that belongs
        to the Gene class.  The different classes that describe the
        data in FlyMine are linked together (through references).  For
        example, the Gene class is linked to the Transcript class and
        other relevant classes. The classes and the way in which they
        are all linked together is called the FlyMine data model. See
        <xref linkend="manualDataModel"/> for an explanation of these
        concepts. </para>

    </sect1>

    <sect1 id="manualStartQB">
     <title>Accessing the Query Builder</title> 

        <para> To use the Query Builder you have to first select a
        starting point.  The starting point can be any FlyMine class
        (e.g.  Gene, Transcript, Protein, etc.). Choose the starting
        point for your query by selecting a class (1) via 'List all
        classes' at the bottom of the FlyMine homepage, or (2) via
        'Query starting point' at the bottom of an aspect page, where
        a set of commonly used starting points relating to that type
        of data is listed.  Alternatively, you can use the 'Browse
        model' option at the bottom of the FlyMine homepage and browse
        to the classes and fields you are interested in. This shows
        all the classes in FlyMine, some of which do not yet have data
        associated with them. In browse mode, the number on the right
        shows the number of objects associated with that class.  All
        options mentioned above will take you to the main Query
        Builder page.</para>

    </sect1>

    <sect1 id="manualPageQB"> 
     <title>Query Builder page</title>

       <para> The main FlyMine Query Builder page is composed of 3 main sections:</para>

   <sect2 id="manualModelBrowserQB"> 
 
    <title>The model browser</title>

       <para> The model browser allows you to browse through the
       FlyMine data model. Depending on the starting class you will be
       able to navigate to other classes as defined by the references
       between the classes. In other words, to combine classes
       containing the objects you require, you find a path through the
       classes that link together the information you require. Within
       the model browser, classes that can be accessed from a parent
       class (i.e. are linked to the parent class through a reference)
       are shown as fields (with a + for expanding before them) within
       that class. (See <xref linkend="manualDataModel"/> for an
       explanation of classes and fields and <xref
       linkend="manualExampleModelQB"/> therein for a specific
       example). Within the model browser, there are 'CONSTRAIN' and
       'SHOW' options. These are used to either constrain a class or
       a field it in the constraints list or to select a field to show
       in the results <link
       linkend="manualRunQB">output</link>. </para>

     </sect2>

   <sect2 id="manualConstrainSectionQB"> 
 
    <title>The constraint section</title>
             
       <para> The constraint section allows you specify the
       constraints you wish to apply to particular classes and
       fields. A constraint is like a filter - you filter out a subset
       of the objects in a class which have certain characteristics
       (defined by the constraint). The constraint section consists of
       three parts: (1) 'Constraints on the current query' lists the
       constraints that have been added to particular classes and
       attributes. (2) 'Constraint logic' allows you to change the
       relationship between the different constraints. (3) 'Constrain'
       provides boxes to constrain a field or class. This last section
       only appears when a constraint is selected from the Model
       browser but hasn't been added to the query yet. See <xref
       linkend="manualBuildingQueryQB"/> for details on how to
       constrain a query.</para>

   <orderedlist>
    <listitem>
     
      <para id="manualConstrainListQB"> Constraints on the current
      query - This section lists the constraints that have been added
      to particular classes and attributes. Constraints can be added
      to a class or attribute from the Model browser on the left by
      clicking on <inlinemediaobject><imageobject><imagedata
      fileref="constrain.gif" /></imageobject></inlinemediaobject>
      next to the class/attribute.  Constraints can be removed using
      <inlinemediaobject><imageobject><imagedata fileref="cross.gif"
      /></imageobject></inlinemediaobject>. To change a constraint,
      click on <inlinemediaobject><imageobject><imagedata
      fileref="edit.gif" /></imageobject></inlinemediaobject>. You can
      now change the constraint under the 'Constrain' section that
      will have appeared (below 'Constraint logic') and click on 'Add
      to query' to constrain your query again.</para>

    </listitem>

    <listitem> 

      <para id="manualConstrainLogicQB"> Constraint logic - This
      section will be empty until there are at least two constraints
      in the query.  Each constraint will then have a letter next to
      it on the 'Constraints on the current query' list which will
      allow you to change the relationship between the different
      constraints.  Click on 'edit' to change the logic between the
      constraints (and, or, grouping) and then on 'Update' to
      incorporate the logic into the query again. </para>

    </listitem>

    <listitem> 
 
      <para id="manualConstrainQB"> Constrain - The 'Constrain'
      section provides boxes for you to constrain a field or
      class. The type of constraint you can add will depend on whether
      a class or an attribute (a field with only one unique piece of
      information, like e.g. an identifier, as opposed to a field that
      references to another class) is selected. If you have selected
      an attribute either specify a particular constraint using the
      box provided or set the attribute to be 'Has no value' or 'Has a
      value'. Classes for which there are subclasses (e.g. tRNA is a
      subclass of Transcript) can be constrained to a particular
      subclass. If the query already has one or more constraints, you
      can also define the logic between them and the new constraint by
      selecting either 'and' or 'or'. Once you have defined your
      constraint (and its relationship with other constraints) press
      'Add to query'. The new constraint will appear in the
      'Constraints on the current query'.</para>
 
    </listitem>



   </orderedlist>

  </sect2>

  <sect2 id="manualOutputListQB"> 
 
    <title>The output list</title>

       <para> The output list (bottom) shows all fields that you have
       selected to show in your results. Each field will become a
       column in your results table. Initially, the output list
       (bottom) will say 'No fields selected for output'. See <xref
       linkend="manualRunQB"/> for more details.</para>

   </sect2>

   </sect1> 
 
   <sect1 id="manualBuildingQueryQB">

    <title>Constraining a query with the Query Builder</title>

    <para> You can think of the classes as boxes containing lots of
    individual items (objects). To create a query you want certain
    items from certain boxes. You therefore have to select the boxes
    that contain the items you want and constrain the boxes so that
    you only select the subset of items in the boxes that you
    require. To query FlyMine you therefore select the classes that
    hold the objects you require. Constraints can be applied to the
    objects contained in a class, so that only a certain subset of
    those objects which have the required characteristics are
    selected. For example the Gene class contains a large number of
    genes (gene objects) from all the organisms represented in
    FlyMine. However you may only be interested in data related to one
    specific gene. You would therefore constrain the gene name field
    of the gene class to that of the required gene. </para>


   <sect2>

    <title>Add one constraint</title>    

    <para> To apply a constraint to a class or field, navigate to the
    class or field in the model browser (left) and click on the
    <inlinemediaobject><imageobject><imagedata fileref="constrain.gif"
    /></imageobject></inlinemediaobject> button next to it. This will
    bring up a box in which you specify your constraint.  The type of
    constraint you can add will depend on what you have selected to
    constrain and whether a class or an attribute (a field with only
    one unique piece of information, like e.g. an identifier, as
    opposed to a field that references to another class) is
    selected. If you have selected an attribute the following options will be available:</para>


    	    <orderedlist>
	      <listitem>
		<para>Choose logical conjunction: If the query already
    has one or more constraints, you can define the logic between them
    and the new constraint by selecting either 'and' or 'or'.</para>
          </listitem>

	      <listitem>
		<para>Choose a filter: 'Filter query results on this
		field having a specific value': Allows you to constrain
		to just a single value.  </para> </listitem>

	      <listitem>
		<para>Choose a filter: 'Filter query results on the
		contents of your bag': This option will only be
		available if you have bags of the correct type saved
		in your <link linkend="manualMyMine">MyMine
		account</link>. To select this option click on the
		title and select your bag from the drop-down list.
		</para>
		</listitem>
	      
              <listitem>
		<para>Choose a filter: 'Filter query results on this
		field having any value or not'.  This option allows you
		to constrain an attribute to either have a value or not
		have a value.</para> </listitem>
	    
          
	    </orderedlist>

 
       <para>Classes for which there are subclasses (e.g. tRNA is a
       subclass of Transcript) can be constrained to a particular
       subclass (see below). The subclasses available will appear as a drop-down
       list.</para>

	  <para>Once you have defined your constraint (and its
             relationship with other constraints) press 'Add to query'. The new
             constraint will appear in the 'Constraints on the current query'
             list. </para>

   </sect2>

   <sect2>

    <title>Constraining to subclasses</title> 

    <para>Some classes are subdivided in to more specialised
    subclasses. For some queries you may only be interested in data
    relating to a particular subclass of a class, e.g. you may only be
    interested in the tRNA transcripts. In these cases you need to
    constrain the class to the subclass that you require. The
    difference between this and the examples above is that you are
    constraining the actual class, rather than a field of a
    class. </para>

   </sect2>

   <sect2>

  <title>Combining data from different classes</title> 

    <para>Because of the relationships between the objects in the
    classes you may only need to constrain one class to retrieve a
    subset of items from another class, e.g. if you want all the genes
    from Drosophila, you only need to constrain the organism class to
    Drosophila to retrieve that subset of genes from the gene
    class. If you wish to know about the transcripts of a particular
    gene you would combine information from the Gene class and the
    Transcript class. By constraining the 'name' field of the gene
    class to a particular gene, you will only retrieve information
    from the transcripts class that relates to that gene (i.e. you do
    not need to apply the constraint to the transcripts class as
    well). This is because that particular gene object has a
    relationship to particular objects (instances) of the transcript
    class (i.e. those transcripts that are produced from that
    particular gene). </para> 
 
 </sect2>

  </sect1>

   <sect1 id ="manualRunQB">
     <title>Show query results</title> 

     <para> To select a field to show in the results output, press
     <inlinemediaobject><imageobject><imagedata fileref="show.gif"
     /></imageobject></inlinemediaobject> next to the field. Fields
     that have been selected for output will appear in a blue box in
     the model browser and constraint list. Fields can be deleted from
     the output fields list using the
     <inlinemediaobject><imageobject><imagedata fileref="cross.gif"
     /></imageobject></inlinemediaobject>. The order of fields in the
     output fields list can be changed by clicking and dragging
     them. The results will be sorted alphabetically, in ascending
     order, based on the first column. Press 'Show results' to run
     your query and view your results in the results page.  When your
     query is run an estimate is first made of how long it will take
     to run the query and how many objects should be returned by the
     query. If your query is going to take a very long time to run, it
     will be stopped and a message will appear at the top of the
     screen. When your query has run, your results will be displayed
     on the results page. You can go back to edit your query by
     clicking on the 'Current query' in the top menu bar.</para>

   </sect1>

   <sect1 id ="manualSaveExportQB">
     <title>Saving and exporting your query</title> 

      <para> All queries that you run are stored into the <link
      linkend="manualQueryHistory">Query History</link>. Your query
      will be named query_x (where x increments for each query
      run). This Query History is available for the duration of your
      session unless you <link linkend="manualLoggingIn">log
      in</link>. When-logged in, you can save your query permanently
      from the Query History page ('Save' in 'Actions' column). <link
      linkend="manualSavedQueries">Saved Queries</link> will be stored
      in your <link linkend="manualMyMine">MyMine account</link>,
      accessible via the top menu bar of any FlyMine page. </para>

      <para> If you are logged-in, it is also possible to save a query
      configuration with a name that you choose directly from the
      Query Builder. Once you have added fields to the output in the
      Query Builder, a box at the bottom will become available for you
      to save your query with a specific name. </para>

      <para> Queries can be exported as XML from the Query Builder
      page. Queries saved as XML can be imported into the FlyMine
      Query Builder - see <xref
      linkend="manualImportExportQueries"/>. </para>

    </sect1>

  </chapter>


  <chapter id="manualResults">
    <title>Query Results</title>

      <para> FlyMine results can be either an <link
      linkend="manualObjectDetails">Object details page</link> which
      provides more information about one specific object, or a results
      table. </para>

      <para> The number of items displayed in the results table is set
      to 10 by default and can be changed by changing the number in
      the 'Page size' box.  You can scroll through the items using
      'Next', or go to the last 10 items using 'Last'. The total
      number of items returned by your query is estimated. An estimate
      is given because, for large queries, only a subset of the total
      number of items is initially returned by the query. This is to
      improve query run time for large queries. Clicking on 'Last'
      will give you the exact number of items returned by your query.</para>
      
      <para> The column headers reflect the relationships between different
      classes/attributes within the query. A column can be moved to
      the right or to the left by clicking on the appropriate arrow on
      top of the column. Clicking on the smaller double arrow on top
      of a column will hide the column. The types of columns and their
      initial order are determined by the underlying Query Builder. To
      change the output, click on 'Query' in the trail at the top of
      the result page or on 'Current query' in the top menu bar. If
      the results originated from a template, both options will
      display the template page. Clicking on 'Edit Query' will display
      the query in the Query Builder. If the results originated from a
      query, both options will display the query in the Query Builder
      directly.</para>

      <para> The results table displays the results in alphabetic
      order, based on the content in the first column. To sort the
      results based on a column different from the first one, you need
      to put that column first using the Query Builder (changing the
      order on the result page using the arrows will currently not
      re-sort the results). </para>
 

      <para> From the results page you can save your data to a <link
      linkend="manualBags">bag</link> and <link
      linkend="manualExportData">export</link> your data in various
      formats. </para>

  </chapter>


  <chapter id="manualExportData">
    <title>Exporting data</title>

    <sect1 id="manualExportTables">
     <title>Exporting Tables</title>

     <para> Data can be exported from the results page in various
     formats - currently Excel (or open office) format, comma
     separated values, tab separated values, or for objects with
     sequences, FASTA format. Currently, either the entire results
     table or specific columns can be exported. If nothing is
     selected, the entire data set will be exported. If you do not
     wish to export certain columns these can be hidden using the
     small double arrow in the column header.</para>

    </sect1>

    <sect1 id="manualExportfasta">
     <title>Exporting FASTA files</title>

     <para> If the results table contains a column with objects that
     have a nucleotide or amino acid sequence, it is possible to
     export all sequences from that column in FASTA format.
     Currently, the FASTA export option will export the sequences
     belonging to objects in the first visible (i.e. not hidden)
     column only. Therefore, if that column does not contain any
     sequence-linked objects, the FASTA export option will not be
     activated. Columns can be moved to the first position by using
     the arrows in the header. If objects appear more than once in the
     column, the sequence will only be exported once.</para>

    </sect1>
 
  </chapter>


 <chapter id = "manualBags">
  <title>Bags</title>

  <sect1>
     <title>Introduction</title>

      <para> All queries in FlyMine can be performed on lists or
      'bags' that you create yourself. Bags are holders for lists of
      data, e.g. a list of genes. Bags can be uploaded from
      an external source or from the results of queries. Saved
      bags of data can be used to constrain queries (either in a <link
      linkend="manualTemplateQueries">template query</link> or in the
      <link linkend="manualQueryBuilder">Query Builder</link>),
      perform logical operations (union, intersect, subtract) and can
      be exported.  </para>

      <para> The 'Bag page' can be found under 'MyMine' or 'Bags',
      both in the top menu bar of every FlyMine page.</para>

      <para> To save your bags permanently, you need to be <link
      linkend="manualLoggingIn">logged-in</link>. </para>


 </sect1>

 <sect1 id="manualMakingBags">
     <title>Making a bag from an external source</title>

    <itemizedlist>
     <listitem>

      <para id="manualNewBag"> Create a new bag: Bags can be uploaded
      from an external source. The left-hand side 'My bags' on the bag
      page shows you the list of your saved bags. The right-hand side
      'Create a new bag' allows you to type or past in a list of <link
      linkend="manualFlyMineIdentifiers">identifiers</link>, or upload
      a file containing the list:</para>


	    <orderedlist>
	      <listitem>
		<para> Type of bag: To make a bag you must first
          select the type of bag you want to make (for example a bag
          of genes).  It is not possible to make mixed bags.</para>
          </listitem>

	      <listitem>
		<para> Constrain by organism (optional): You can
		optionally set the organism for your list of items.
		This is useful if, for example, you have a list of
		gene symbols, as the same symbol may be present in more
		than one organism.</para> </listitem>

	      <listitem>
		<para> Type/Paste in identifiers: Either type or paste in your list or:</para> </listitem>
	      
              <listitem>
		<para> Upload identifiers from a file: click on
		'Upload identifiers from a file' and then 'Browse' to
		find your file for upload.</para> </listitem>
	    
                <listitem>
		<para> Create Bag: Click on 'Create bag' to upload your
		bag. </para> </listitem>

	    </orderedlist>


    </listitem>
 

     <listitem>

      <para id="manualConfirmBagCreation"> Confirm bag creation: The list
      that you upload is checked against the FlyMine database to
      ensure that everything in your list can be found in FlyMine.
      Any discepencies are reported as follows: </para>

	    <orderedlist>

	      <listitem>
		<para>Low quality matches: These are items in your
		list that do not match a key (main) identifier in
		FlyMine but were found as synonyms. This may mean you
		have a secondary (old) identifier or are using a gene
		symbol that is not the official symbol for that gene.
		If you are happy that the item identified is the
		correct one, you can add it to your bag by clicking on
		'Add' in the last column.  </para> </listitem>


  	  <listitem>
		<para>Converted types: These are items in your list
		that matched something in FlyMine, but not of the type
		you selected. (For example, if you selected type=gene,
		but had a protein identifier in your list).  FlyMine
		can convert these into the type you selected so that
		you can add the item to your bag - click on 'Add' in
		the last column. </para>
		</listitem>

	      <listitem>
		<para>Unresolved identifiers: These are items in your
		list that were either not found in FlyMine, could not
		be converted to the type you selected or matched
		objects from an organism other than the one you
		selected. </para> </listitem>

              </orderedlist>


 </listitem>
	   
	  <listitem>
	    <para id="saveBag"> Save bag: Give your bag a name and
      click on 'Save bag'.  This will take you to a <link
      linkend="manualbagDetailsPage">Bag overview page</link> </para>
	  </listitem>




  </itemizedlist>

</sect1>


     <sect1>
         <title>Making a bag from a results table</title>


   <itemizedlist>
     <listitem>
      <para id="manualResultBag"> A bag can be created from results
      tables. To save your data to a bag select the required data on a
      result page and either add it to an existing bag or save it to a
      new bag, using the boxes displayed underneath the
      results. Selecting the check boxes next to the column headings
      will select the entire column for saving. Alternatively,
      individual items can be saved by selecting check-boxes next to
      the items. Currently, a bag can only contain one column.
      However, if you have multiple columns for the same item (eg a
      column for gene identifier and one for gene symbol), you will
      notice that all related columns become highlighted when you
      select the checkbox next to one.  This is because you are saving
      the actual item (eg the gene) to a bag, not just the
      identifier. </para>
      </listitem>

   </itemizedlist> 

</sect1>

   <sect1>
         <title>Bag details pages</title>


   <itemizedlist>
     <listitem>
      <para id="manualbagDetailsPage">A bag details page is automatically displayed when you upload a bag from an external source.  Bag details pages can also be accessed by clicking on a bag name from your bags saved in MyMine.  A bag details page provides the following information:</para>

	      <orderedlist>

	      <listitem>
		<para>Bag contents: A table providing information
		summarising the contents of your bag. If your bag
		contains more than ten items, only the first ten are
		shown in this table.  A button 'View whole bag'
		underneath the table allows you to view the entire
		bag.  To the right of the summary table is a box
		allowing you to enter a description for your bag.
		This is particularly useful if you are logged in and
		may come back to use your bag again at a later point.
		</para> </listitem>

	      <listitem>
		<para>Widgets: Widgets provide additional information
		about the contents of your bag. Widgets are currently
		only available for bags of genes.  Widgets giving a
		summary of gene expression in the adult fly (according
		to the FlyAtlas data), a summary of pathways in which
		any genes in your bag are involved (according to KEGG)
		and statistical anlysis of the GO enrichment of the
		set of genes in your bag, are shown where the data is
		available.  The types of data shown through widgets
		will increase in future releases of FlyMine. </para></listitem>

	      <listitem>
		<para>Templates: A set of template queries which have
		been automatically run on all the items in your
		bag. </para></listitem>


	    
	      </orderedlist>

      </listitem>

   </itemizedlist> 

  </sect1>

  <sect1 id="manualUsingBags">
    <title>Making use of bags</title>

     <para> Bags can be used in three different ways: to constrain a
     query, either a <link linkend="manualTemplateQueries">template
     query</link> or a query cnstructed using the <link
     linkend="manualQueryBuilder">Query Builder</link>, to save query
     results within FlyMine and to perform logical operations. </para>

    <orderedlist>

     <listitem> <para> Any variable (box) in a template query can be
       constrained to a bag (or 'not in' a bag) rather than a single
       value, provided you have a bag of the correct type saved in
       <link linkend="manualMyMine">'MyMine'</link>.  For
       example, if you want to run a particular query for a list of
       genes rather than a single gene, you can create a bag of genes
       and run a template query using this bag.  To constrain a query
       to a bag, select the checkbox underneath the variable box and
       choose the bag from the drop-down list.</para>

       <para> Bags of data can be used to constrain queries in the
       Query Builder. If you have bags of saved data under <link
       linkend="manualMyMine">'MyMine'</link> you will automatically
       be able to use these from within the Query Builder to constrain
       a query. When a field is selected for constraining a query
       using the Query Builder the constraint options in the right
       hand constraint panel will ask you to either 'Filter query
       results on this field having a specific value' or 'Filter query
       results on the contents of your bag'. This latter option will
       only appear if you have bags of the correct type saved in <link
       linkend="manualMyMine">'MyMine'</link>.  To add a bag
       constraint, click on 'Filter query results on this field having
       a specific value' and chose your bag from the drop down list.
       Note there is also the option to change 'IN' bag to 'NOT IN'
       bag.</para>

     </listitem>

     <listitem> <para> Results from queries can also be saved into a
      bag. To save your data to a bag select the required data on a
      results page and either add it to an existing bag or save it to
      a new bag, using the boxes displayed underneath the
      results. Selecting the check boxes next to the column headings
      will select the entire column for saving. Alternatively,
      individual items can be saved by selecting check boxes next to
      the items. Currently, a bag can only contain one column.
      However, if you have multiple columns for the same item (eg a
      column for gene identifier and one for gene symbol), you will
      notice that all related columns become highlighted when you
      select the checkbox next to one.  This is because you are saving
      the actual item (eg the gene) to a bag, not just the
      identifier.</para>
     </listitem>

     <listitem>
      <para> The logical operations, union, intersect and subtract,
      can be performed on bags of data from your <link
      linkend="manualMyMine">bag page</link>. Use the check-boxes
      next to your saved bags to select two or more bags for these
      operations and enter a name for the new bag. </para> 
    </listitem>


    </orderedlist> 
  
  </sect1>

  <sect1 id="manualExportBags">
     <title>Exporting the contents of a bag</title>

      <para> To export the contents of a bag, click on the bag
      name. This will display the contents of the bag as a results
      page - with the export options available at the bottom of the
      page - see <xref linkend="manualExportData"/>) </para>

 </sect1>

 </chapter>


  <chapter id="manualMyMine">
    <title>Personal FlyMine account: MyMine</title>

     <sect1>
        <title>Introduction</title>

      <para> A saved query is a copy of the actual query
      configuration, created in the <link
      linkend="manualQueryBuilder">Query Builder</link>. Saved
      templates and previously executed queries can be viewed from
      your account or 'MyMine' page accessed at the top menu bar on
      any FlyMine page. Your Query History will remain available to
      you only for the duration of a session unless you create and use
      a <link linkend="manualLoggingIn">login</link>. If you log in
      (via button on top menu bar), your queries and bags will be
      stored permanently.  </para>

     </sect1>

     <sect1 id="manualMyMineTabs">
       <title>MyMine</title>

      <para>Your FlyMine account, called 'MyMine', contains
      different lists: <link linkend="manualBags">Bags</link>, Query
      History, Saved Queries, Saved Templates and Favourite Templates,
      plus a tab to allow you to change your password (only visible
      when <link linkend="manualLoggingIn">logged-in</link>). If you
      are not <link linkend="manualLoggingIn">logged-in</link>, only
      your Query History will be activated, the others will be
      greyed-out. After logging-in, you will be able to view your
      Saved Queries, Saved Templates and Favourite Templates. Saving
      queries from Query History and importing queries into your Query
      History is only possible if you are logged-in. </para>

      <para> Every query and template list includes columns giving the
      date the query or template was created, the class from which the
      query was started, the approximate number of rows in the
      results, the fields selected to show in the results output and
      access to a number of actions (run, edit, export) that can be
      performed on the queries.</para>

      <orderedlist numeration="upperalpha">
       <listitem>
        <para id="manualBagsMyMine"> Bags - Bags are holders for lists
        of data, e.g. a list of gene identifiers. Bags can be created
        from an external source or from results from previous
        queries. Saved bags of data can be used to constrain queries
        (either in a <link linkend="manualTemplateQueries">template
        query</link> or in the <link
        linkend="manualQueryBuilder">Query Builder</link>), perform
        logical operations (union, intersect, subtract) and can be
        exported. To save your bags permanently, you need to be <link
        linkend="manualLoggingIn">logged-in</link>. For more
        information on bags, see <xref linkend="manualBags"/>.</para>
        </listitem>

       <listitem>
        <para id="manualQueryHistory"> Query History - All queries
         that you run are saved in your Query History with the default
         name 'query_x' (where x increments for each query run). To
         change the name of the query, click on the pencil next to the
         query name.  It is possible to run the query again ('Actions
         - Run') or to change the query in the Query Builder
         ('Actions- Edit'). These queries will only be saved during
         the time of the current session.  To save queries permanently
         and to import queries, you need to be <link
         linkend="manualLoggingIn">logged-in</link>. To save a query,
         select it by clicking on the check-boxes next to the name and
         press 'Save' in the 'Actions' column. A message will appear
         confirming that the queries have been saved permanently and
         the queries will now appear under 'Saved Queries' (see below)
         where it will be suggested to change its name. The query will
         also stay in Query History for the rest of the
         session. Queries can also be exported or deleted by selecting
         them individually using the check-boxes (or clicking on the
         check-box on top of the column to select all at once) and
         clicking the 'Export' or 'Delete' buttons at the bottom of
         the page.  After pressing 'Delete' you will need to confirm
         that you really want to delete the selected
         queries. Exporting a query will not delete it from your query
         history.</para> </listitem>

       <listitem>
        <para id="manualSavedQueries"> Saved Queries - lists all
        queries that you have saved before. They will be saved
        permanently.  It is possible to rename the query (via the
        pencil next to the query name), to run it again ('Actions -
        Run') and to edit it in the Query Builder ('Actions- Edit').
        Queries can also be exported or deleted by selecting them
        individually using the check-boxes (or clicking on the
        check-box on top of the column to select all at once) and
        clicking the 'Export' or 'Delete' buttons at the bottom of the
        page. After pressing 'Delete' you will be asked to confirm
        that you really want to delete the selected queries.
        Exporting a query will not delete it from your query history.
        This page also allows you to import queries by using the
        'Import query from XML' link at the bottom of the page, if you
        are <link linkend="manualLoggingIn">logged-in</link>.  Enter
        query in XML format in the space provided and press
        'Submit'. The imported queries will be stored under 'Saved
        Queries'. Queries with names identical to existing queries
        will get an automatic extension to make it unique,
        e.g. dmel-proteins-1, dmel-proteins-2.</para> </listitem>
        <listitem>

        <para id="manualSavedTemplates"> Saved Templates - provides a
        list of all templates that you created yourself or have
        imported. They will be saved permanently. It is possible to
        rename the template query (via pencil next to the template
        name), to run it again ('Actions - Run') and to edit it in the
        Query Builder ('Actions- Edit').  Templates can also be
        exported or deleted by selecting them individually using the
        check-boxes (or clicking on the check-box on top of the column
        to select all at once) and clicking the 'Export' or 'Delete'
        buttons at the bottom of the page.  After pressing 'Delete'
        you will be asked to confirm that you really want to delete
        the selected queries.  Exporting a template will not delete it
        from your account.  This page also allows you to import
        templates by using the 'Import template query' link at the
        bottom of the page, if you are <link
        linkend="manualLoggingIn">logged-in</link>. Enter template
        queries in XML format in the space provided and press
        'Submit'. The imported templates will be stored under 'Saved
        Templates'. Template queries with names identical to
        existing queries will get an automatic extension to make it
        unique, e.g. dmel-proteins-1, dmel-proteins-2. You can select
        templates to become 'favourite templates'. To mark a template
        as a favourite, click on the star next to the template name,
        which will then become yellow. The template will stay in this
        list but will also appear in the 'Favourite Templates'
        list. To unmark it, go to 'Favourite Templates' (see below),
        select the template and press 'Remove from favourites' at the
        bottom of the page. </para>

       </listitem>

       <listitem>
        <para id="manualFavTemplates"> Favourite Templates - lists
        your favourite templates.  To mark a template as a favourite,
        click on the star next to the template title, which will then
        become yellow. The template will stay under 'Saved Queries'
        but will now also appear in the 'Favourite Templates' list.
        To remove a template from the favourites list, select the
        template and press 'Remove from favourites' at the bottom of
        the 'Favourite Templates' page. It is possible to rename the
        template query (via pencil next to the template name), to run
        it again ('Actions - Run') and to edit it in the Query Builder
        ('Actions- Edit').  Favourite templates can also be exported
        by selecting them individually using the check-boxes (or
        clicking on the check-box on top of the column to select all
        at once) and clicking the 'Export' button at the bottom of the
        page. Exporting a template will not delete it from your
        account. </para>

       </listitem>

    </orderedlist>
 
    </sect1>

    <sect1 id = "manualLoggingIn">
	<title>Logging in</title>
	    
     <para> Your bags and Query History will remain available to you
     only for the duration of a session unless you create and use a
     log in. If you log in, your bags and queries will be stored
     permanently. </para>
 
     <para> To log in, click on the' Log in' link on the top menu bar
     or at the bottom of a 'MyMine' page. If you have never logged in
     before, go to '..or create an account'. Enter your email address,
     choose a password and confirm it and click on 'Create
     account'. You can then log in.  Your username is the email
     address for which you chose a password. If you forgot your
     password, click on 'forgotten password'. You will be asked to
     enter your email address. Click on 'Request password' and your
     password will then be sent to you again. </para>

    </sect1>    

 </chapter> 


   <chapter id="manualImportExportQueries">
       <title>Exporting and importing templates and queries</title>

     <para> The export/import feature allows you to pass a query on to
     someone else. To import and export <link
     linkend="manualSavedQueries">Saved Queries</link> and <link
     linkend="manualSavedTemplates">Saved Templates</link>, you need
     to be <link linkend="manualLoggingIn">logged-in</link> into
     FlyMine. To export a query form the <link
     linkend="manualQueryHistory">Query History</link> page or from a
     <link linkend="manualQueryBuilder">Query Builder</link> page,
     logging-in is not required.</para>

    <sect1> 
       <title>Exporting queries in XML format</title>

     <para> Queries can be exported as XML or IQL from the <link
     linkend="manualQueryBuilder">Query Builder</link> page ('Actions
     - Export this query as XML or IQL'). A query can also be exported
     from your <link linkend="manualQueryHistory">Query History</link>
     page. Select queries using the check-boxes (or click on the
     check-box on top of the column to select all at once) and click
     the 'Export' button at the bottom of the MyMine page. Alternatively, one
     query can also be exported by clicking on 'Export' in the
     'Actions' column. Saved queries can also be exported as XML from
     your <link linkend="manualSavedQueries">Saved Queries</link> on
     your <link linkend="manualMyMine">MyMine</link> page, in a
     similar way.  Exporting a query will not delete it from your
     account. </para>

    </sect1> 

    <sect1> 
       <title>Importing queries in XML format</title>

     <para> Queries can be imported from your <link
     linkend="manualMyMine">Account</link>. To import a query, you
     need to be <link linkend="manualLoggingIn">logged-in</link>. Once
     logged-in, click on the 'Import query from XML' link at the
     bottom of the MyMine page. Enter query in XML format in the space
     provided and press 'Submit'. The imported queries will be stored
     under 'Saved Queries'. Queries with names identical to existing
     queries will get an automatic extension to make it unique,
     e.g. dmel-proteins-1, dmel-proteins-2. </para>

    </sect1> 

    <sect1> 
       <title>Exporting templates in XML format</title>

     <para> Template queries can be exported as XML from your <link
     linkend="manualSavedTemplates">Saved Templates</link> on your
     <link linkend="manualMyMine">MyMine</link> page. Select
     templates using the check-boxes (or click on the check-box on top
     of the column to select all at once) and click the 'Export'
     button at the bottom of the page. Alternatively, one template
     query can also be exported by clicking on 'Export' in the
     'Actions' column. Exporting a template will not delete it from
     your account.</para>

    </sect1> 

    <sect1> 
      <title>Importing templates in XML format</title>

     <para> In order to import a template, you need to be <link
     linkend="manualLoggingIn">logged-in</link> into FlyMine. Go to
     <link linkend="manualSavedTemplates">Saved Templates</link> on
     your <link linkend="manualMyMine">MyMine</link> page and click
     on 'Import template queries...'. Enter template in XML format and
     press 'Submit' to save the template to your account. The imported
     templates will be stored under 'Saved Templates'.  Template
     queries with names identical to existing templates will get an
     automatic extension to make it unique, e.g. dmel-proteins-1,
     dmel-proteins-2.</para>

    </sect1> 

   </chapter>

  <chapter id="manualFlyMineIdentifiers">
    <title>Identifiers, Accessions and Synonyms in FlyMine</title>
 
    <para> This page describes the meanings and origins of identifiers
    of biological objects in FlyMine. As FlyMine aggregates data from
    multiple sources there are often many different identifiers for
    the same entity. Available identifiers vary between biological
    object type, organism and data source. FlyMine attempts to choose
    a standard or commonly used unique identifier for each biological
    type and retains all other identifiers as synonyms with a
    reference to their source. </para>

    <para> BioEntity is the root class of all biological objects in
    the FlyMine model. This has an identifier field that all
    subclasses (e.g.  Chromosome, Gene, Exon) inherit. The identifier
    field is almost always populated with a value unique in the
    context of a particular organism.  The only time when 'identifier'
    can be empty is when another primary identifier field exists
    (e.g. Gene, Protein) and a data source has only provided the
    alternative. </para>

    <para> In some cases this is a standard identifier (e.g. Protein -
    UniProt id), for biological types that are not so widely
    referenced this will be the identifier for the primary data source
    used (e.g.  Exon - Ensembl stable id). For some types the
    identifier is more akin to a name than a universal identifier
    (e.g. Chromosome - 'X'). All widely used identifiers that FlyMine
    has loaded are also stored as Synonyms of the BioEntity linked to
    the source. </para>

    <para> Gene - for some organisms there are two commonly used
    identification schemes, for example Drosophila has FlyBase FBgn***
    and Computed CG***. Gene has an additional identifier field,
    'primaryIdentifier', which contains the id used in the main annotation
    database for each organism. So for Drosophila 'primaryIdentifier' is a
    FlyBase id and 'identifier' is CG*** id.  In addition Gene has a
    'name' and 'symbol' field. All additional names and identifiers
    should be available as Synonyms. </para>

    <para> Protein - Where possible the 'identifier' field is the
    UniProt identifier (e.g. 18C_DROME). Protein has an additional
    'primaryAccesion' field which will be the UniProt primary
    accession where available (e.g. P16909). All accession numbers
    available in UniProt are stored as synonyms with type 'accession'
    (e.g. P16909, Q9VPA8). </para>

    <para> It is conceivable that a data source could provide a
    Protein with a TrEMBL identifier/accession which has been
    superseded as the primary UniProt identifier/accession by the
    inclusion of that protein in SwissProt. This could result in two
    Protein objects existing in the FlyMine database representing the
    same actual protein - one with the current UniProt ids, on with
    TrEMBL ids. We aim to run a post-processing step to find and
    correct these situations in future. </para>

    <para> Synonyms represent alternative names and accessions for a
    BioEntity. The 'source' reference points at an InfoSource object
    (i.e.  Database, Publication) from which the synonym was loaded.
    Synonym has a 'type' field which defines it as an 'accession',
    'identifier' or a 'name'. </para>

  </chapter>


  <chapter id="manualDataModel">
    <title>The FlyMine Data Model</title>

  <sect1>
    <title>Introduction</title>

    <para> The FlyMine database is built using <ulink
    url="http://www.intermine.org"> InterMine</ulink>, an open-source
    data warehouse system for integrating the data from many sources
    into one object-based database.  The FlyMine data model is
    generated by merging existing and emerging ontologies and
    standards (e.g. MAGE, SO, PSI), thus enabling data to be loaded
    from a variety of sources and providing the flexibility to easily
    incorporate new data sources as they appear.  Additional FlyMine
    specific classes help link the ontologies and provide classes
    relating to the evidence and source for a particular piece of
    data.  To get the most out of querying FlyMine it is useful to
    understand a bit about the underlying data model.  First of all it
    is useful to understand the concepts of <link
    linkend="manualCOF">classes, objects and fields</link>. </para>

  </sect1>

  <sect1 id="manualCOF">
    <title>Classes, Objects and Fields - the basics</title> 

    <para> Classes can be thought of as templates to describe
    information about a specific type of thing. Things which have
    similar properties belong to the same class. For example in
    FlyMine there is a 'Gene' class. The Gene class describes
    properties of genes. The actual properties are known as
    fields. The class is a holder for a set of fields that provide
    information about the 'thing'. For example the Gene class has the
    fields: name, identifier, primaryIdentifier, etc. An object is an
    actual member of a class (known as an 'instance' of that
    class). For example, the Notch gene is a member of the Gene
    class. Every object of a class has the set of properties (fields)
    that describe that class, although some of these fields may be
    empty (i.e. there may not be any data available for some
    fields). The classes in the FlyMine data model form a hierarchy
    with classes lower down the hierarchy being specialisations of
    classes higher up. For example, the Transcript class contains more
    specialised subclasses such as PrimaryTranscript,
    ProcessedTranscript, etc. The top class in the FlyMine model is
    called the InterMineObject class. Every class in FlyMine is
    therefore a specialisation of the InterMineObject class. You can
    browse the structure of the data model using the 'Browse model'
    link at the bottom of the FlyMine home page. This shows all the
    classes in FlyMine, some of which do not yet have data associated
    with them. In browse mode, the number on the right shows the
    number of objects associated with that class. Clicking on one of
    the classes will take you to the <link
    linkend="manualPageQB">Query Builder page</link>. </para>

    <para> Classes in the hierarchy are linked together by
    references. A reference is a pointer from one class to another
    class. For example, the Gene class has a reference to the Exon
    class as exons are part of a gene. A specific object of a class
    has a reference to a specific object or objects in another
    class. For example, the Drosophila melanogaster Notch gene has 9
    exons. Therefore, the object 'Notch' from the Gene class has a
    reference to 9 objects in the Exon class, namely to its 9
    exons. When a class has a reference to another class, the
    referenced class will appear as a field within the class on
    the Query Builder page. </para>

    <para> Fields can be one of three different data types. (1) Some
    fields simply contain an attribute, i.e. one unique piece of
    information that belongs to a particular object, such as a name.
    In this case the field is the type 'string' (a string is basically
    a piece of text that can include letters and numbers). Similarly,
    fields that contain just a number will be of the type
    'integer'. (2) A field that is a reference to another class will
    be of type 'class'. (3) Fields that contain a list of objects (or
    references to objects of a different class) are known as
    collections.</para>

    <para> For specific information about each class or field click
    on the ? help link next to the class/field in the model
    browser or in the Query Builder. </para>

</sect1>

   <sect1 id="manualExampleModelQB">
    <title>Example of classes and fields</title>

     <para> The following is an explanation of the classes and fields
     displayed by the model browser on the <link
     linkend="manualPageQB">Query Builder page</link>. The Gene class
     is used as an example, but the information is easily transferable
     to other classes. </para>

     <para> The following are examples of fields of the Gene class:
     identifier, name and primaryIdentifier. This type of field holds just
     one piece of information which can be either text or a
     number. The fields of a class are always displayed directly below
     the class name and can be distinguished from other types of
     fields (see below) as they do not a have a + for expanding before
     them. </para>

     <para> The field called Organism is a reference (i.e. a link) to
     the organism class. Fields which are references to other classes
     have a field name (in this case organism) followed by the name of
     the class it is referencing (in this case Organism). </para>

     <para> The field called 'exons' is also a reference to a class -
     the Exon class. This field, however, also has the type
     'collection'. This is because a particular gene object in the
     Gene class can reference (link to) one or more exon objects in
     the Exon class. The exon collection is a list of references to
     these objects. For example, the Drosophila melanogaster Notch
     gene has 9 exons. Therefore, the object 'Notch' from the Gene
     class has a reference to 9 objects in the Exon class, namely to
     its 9 exons. However, each gene belongs only to one organism and
     therefore the Organism field is not of the collection
     type. </para>

   </sect1>

 </chapter>


  <chapter id="manualFeedback">
    <title>FlyMine Feedback</title>

    <para> FlyMine welcomes any types of feedback: suggestions for
    data sets and new templates, help with improving and building new
    queries, reports of broken links, etc. </para>

    <para>A feedback form is available from the FlyMine query pages,
    which can be used to ask for help with queries or to provide us
    with comments or suggestions.  This feedback form will
    automatically send us the query that the submitting user is
    currently working on, making it easier to give an accurate
    response. Fill in your email address and message. Name and subject
    are optional. </para>

 </chapter>

  <appendix id="docLicence" label="A">
    <title>
      GNU Free Documentation License
    </title>
    <para>
      <synopsis>
		GNU Free Documentation License
		  Version 1.2, November 2002

----------------------------

Copyright (C) 2000,2001,2002  Free Software Foundation, Inc.
     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.


0. PREAMBLE

The purpose of this License is to make a manual, textbook, or other
functional and useful document "free" in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or non-commercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.


1. APPLICABILITY AND DEFINITIONS

This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The "Document", below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as "you".  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject.  (Thus, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not "Transparent" is called "Opaque".

Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input format, SGML
or XML using a publicly available DTD, and standard-conforming simple
HTML, PostScript or PDF designed for human modification.  Examples of
transparent image formats include PNG, XCF and JPG.  Opaque formats
include proprietary formats that can be read and edited only by
proprietary word processors, SGML or XML for which the DTD and/or
processing tools are not generally available, and the
machine-generated HTML, PostScript or PDF produced by some word
processors for output purposes only.

The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, "Title Page" means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

A section "Entitled XYZ" means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as "Acknowledgements",
"Dedications", "Endorsements", or "History".)  To "Preserve the Title"
of such a section when you modify the Document means that it remains a
section "Entitled XYZ" according to this definition.

The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.


2. VERBATIM COPYING

You may copy and distribute the Document in any medium, either
commercially or non-commercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

You may also lend copies, under the same conditions stated above, and
you may publicly display copies.


3. COPYING IN QUANTITY

If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.


4. MODIFICATIONS

You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

A. Use in the Title Page (and on the covers, if any) a title distinct
   from that of the Document, and from those of previous versions
   (which should, if there were any, be listed in the History section
   of the Document).  You may use the same title as a previous version
   if the original publisher of that version gives permission.
B. List on the Title Page, as authors, one or more persons or entities
   responsible for authorship of the modifications in the Modified
   Version, together with at least five of the principal authors of the
   Document (all of its principal authors, if it has fewer than five),
   unless they release you from this requirement.
C. State on the Title page the name of the publisher of the
   Modified Version, as the publisher.
D. Preserve all the copyright notices of the Document.
E. Add an appropriate copyright notice for your modifications
   adjacent to the other copyright notices.
F. Include, immediately after the copyright notices, a license notice
   giving the public permission to use the Modified Version under the
   terms of this License, in the form shown in the Addendum below.
G. Preserve in that license notice the full lists of Invariant Sections
   and required Cover Texts given in the Document's license notice.
H. Include an unaltered copy of this License.
I. Preserve the section Entitled "History", Preserve its Title, and add
   to it an item stating at least the title, year, new authors, and
   publisher of the Modified Version as given on the Title Page.  If
   there is no section Entitled "History" in the Document, create one
   stating the title, year, authors, and publisher of the Document as
   given on its Title Page, then add an item describing the Modified
   Version as stated in the previous sentence.
J. Preserve the network location, if any, given in the Document for
   public access to a Transparent copy of the Document, and likewise
   the network locations given in the Document for previous versions
   it was based on.  These may be placed in the "History" section.
   You may omit a network location for a work that was published at
   least four years before the Document itself, or if the original
   publisher of the version it refers to gives permission.
K. For any section Entitled "Acknowledgements" or "Dedications",
   Preserve the Title of the section, and preserve in the section all
   the substance and tone of each of the contributor acknowledgements
   and/or dedications given therein.
L. Preserve all the Invariant Sections of the Document,
   unaltered in their text and in their titles.  Section numbers
   or the equivalent are not considered part of the section titles.
M. Delete any section Entitled "Endorsements".  Such a section
   may not be included in the Modified Version.
N. Do not retitle any existing section to be Entitled "Endorsements"
   or to conflict in title with any Invariant Section.
O. Preserve any Warranty Disclaimers.

If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice.
These titles must be distinct from any other section titles.

You may add a section Entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties--for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.


5. COMBINING DOCUMENTS

You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

In the combination, you must combine any sections Entitled "History"
in the various original documents, forming one section Entitled
"History"; likewise combine any sections Entitled "Acknowledgements",
and any sections Entitled "Dedications".  You must delete all sections
Entitled "Endorsements".


6. COLLECTIONS OF DOCUMENTS

You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.


7. AGGREGATION WITH INDEPENDENT WORKS

A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an "aggregate" if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.


8. TRANSLATION

Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

If a section in the Document is Entitled "Acknowledgements",
"Dedications", or "History", the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.


9. TERMINATION

You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.


10. FUTURE REVISIONS OF THIS LICENSE

The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
http://www.gnu.org/copyleft/.

Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.


ADDENDUM: How to use this License for your documents

To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

    Copyright (c)  YEAR  YOUR NAME.
    Permission is granted to copy, distribute and/or modify this document
    under the terms of the GNU Free Documentation License, Version 1.2
    or any later version published by the Free Software Foundation;
    with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
    A copy of the license is included in the section entitled "GNU
    Free Documentation License".

If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the "with...Texts." line with this:

    with the Invariant Sections being LIST THEIR TITLES, with the
    Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.

If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
      </synopsis>
    </para>
  </appendix>

  <appendix id="sourceLicence" label="B">
    <title>
      GNU Lesser General Public License
    </title>
    <para>
      <synopsis>
                      GNU LESSER GENERAL PUBLIC LICENSE
                          Version 2.1, February 1999


 Copyright (C) 1991, 1999 Free Software Foundation, Inc.
     59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

[This is the first released version of the Lesser GPL.  It also counts
 as the successor of the GNU Library Public License, version 2, hence
 the version number 2.1.]

Preamble

The licenses for most software are designed to take away your freedom to share
and change it. By contrast, the GNU General Public Licenses are intended to
guarantee your freedom to share and change free software--to make sure the
software is free for all its users. 

This license, the Lesser General Public License, applies to some specially
designated software packages--typically libraries--of the Free Software
Foundation and other authors who decide to use it. You can use it too, but we
suggest you first think carefully about whether this license or the ordinary
General Public License is the better strategy to use in any particular case,
based on the explanations below. 

When we speak of free software, we are referring to freedom of use, not price.
Our General Public Licenses are designed to make sure that you have the freedom
to distribute copies of free software (and charge for this service if you wish);
that you receive source code or can get it if you want it; that you can change
the software and use pieces of it in new free programs; and that you are
informed that you can do these things. 

To protect your rights, we need to make restrictions that forbid distributors to
deny you these rights or to ask you to surrender these rights. These
restrictions translate to certain responsibilities for you if you distribute
copies of the library or if you modify it. 

For example, if you distribute copies of the library, whether gratis or for a
fee, you must give the recipients all the rights that we gave you. You must make
sure that they, too, receive or can get the source code. If you link other code
with the library, you must provide complete object files to the recipients, so
that they can relink them with the library after making changes to the library
and recompiling it. And you must show them these terms so they know their
rights. 

We protect your rights with a two-step method: (1) we copyright the library, and
(2) we offer you this license, which gives you legal permission to copy,
distribute and/or modify the library. 

To protect each distributor, we want to make it very clear that there is no
warranty for the free library. Also, if the library is modified by someone else
and passed on, the recipients should know that what they have is not the
original version, so that the original author's reputation will not be affected
by problems that might be introduced by others. 

Finally, software patents pose a constant threat to the existence of any free
program. We wish to make sure that a company cannot effectively restrict the
users of a free program by obtaining a restrictive license from a patent holder.
Therefore, we insist that any patent license obtained for a version of the
library must be consistent with the full freedom of use specified in this
license. 

Most GNU software, including some libraries, is covered by the ordinary GNU
General Public License. This license, the GNU Lesser General Public License,
applies to certain designated libraries, and is quite different from the
ordinary General Public License. We use this license for certain libraries in
order to permit linking those libraries into non-free programs. 

When a program is linked with a library, whether statically or using a shared
library, the combination of the two is legally speaking a combined work, a
derivative of the original library. The ordinary General Public License
therefore permits such linking only if the entire combination fits its criteria
of freedom. The Lesser General Public License permits more lax criteria for
linking other code with the library. 

We call this license the "Lesser" General Public License because it does Less to
protect the user's freedom than the ordinary General Public License. It also
provides other free software developers Less of an advantage over competing
non-free programs. These disadvantages are the reason we use the ordinary
General Public License for many libraries. However, the Lesser license provides
advantages in certain special circumstances. 

For example, on rare occasions, there may be a special need to encourage the
widest possible use of a certain library, so that it becomes a de-facto
standard. To achieve this, non-free programs must be allowed to use the library.
A more frequent case is that a free library does the same job as widely used
non-free libraries. In this case, there is little to gain by limiting the free
library to free software only, so we use the Lesser General Public License. 

In other cases, permission to use a particular library in non-free programs
enables a greater number of people to use a large body of free software. For
example, permission to use the GNU C Library in non-free programs enables many
more people to use the whole GNU operating system, as well as its variant, the
GNU/Linux operating system. 

Although the Lesser General Public License is Less protective of the users'
freedom, it does ensure that the user of a program that is linked with the
Library has the freedom and the wherewithal to run that program using a modified
version of the Library. 

The precise terms and conditions for copying, distribution and modification
follow. Pay close attention to the difference between a "work based on the
library" and a "work that uses the library". The former contains code derived
from the library, whereas the latter must be combined with the library in order
to run. 


TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
0. This License Agreement applies to any software library or other program which
contains a notice placed by the copyright holder or other authorized party
saying it may be distributed under the terms of this Lesser General Public
License (also called "this License"). Each licensee is addressed as "you". 

A "library" means a collection of software functions and/or data prepared so as
to be conveniently linked with application programs (which use some of those
functions and data) to form executables. 

The "Library", below, refers to any such software library or work which has been
distributed under these terms. A "work based on the Library" means either the
Library or any derivative work under copyright law: that is to say, a work
containing the Library or a portion of it, either verbatim or with modifications
and/or translated straightforwardly into another language. (Hereinafter,
translation is included without limitation in the term "modification".) 

"Source code" for a work means the preferred form of the work for making
modifications to it. For a library, complete source code means all the source
code for all modules it contains, plus any associated interface definition
files, plus the scripts used to control compilation and installation of the
library. 

Activities other than copying, distribution and modification are not covered by
this License; they are outside its scope. The act of running a program using the
Library is not restricted, and output from such a program is covered only if its
contents constitute a work based on the Library (independent of the use of the
Library in a tool for writing it). Whether that is true depends on what the
Library does and what the program that uses the Library does. 

1. You may copy and distribute verbatim copies of the Library's complete source
code as you receive it, in any medium, provided that you conspicuously and
appropriately publish on each copy an appropriate copyright notice and
disclaimer of warranty; keep intact all the notices that refer to this License
and to the absence of any warranty; and distribute a copy of this License along
with the Library. 

You may charge a fee for the physical act of transferring a copy, and you may at
your option offer warranty protection in exchange for a fee. 

2. You may modify your copy or copies of the Library or any portion of it, thus
forming a work based on the Library, and copy and distribute such modifications
or work under the terms of Section 1 above, provided that you also meet all of
these conditions: 


a) The modified work must itself be a software library. 
b) You must cause the files modified to carry prominent notices stating that you
changed the files and the date of any change. 
c) You must cause the whole of the work to be licensed at no charge to all third
parties under the terms of this License. 
d) If a facility in the modified Library refers to a function or a table of data
to be supplied by an application program that uses the facility, other than as
an argument passed when the facility is invoked, then you must make a good faith
effort to ensure that, in the event an application does not supply such function
or table, the facility still operates, and performs whatever part of its
purpose remains meaningful. 
(For example, a function in a library to compute square roots has a purpose that
is entirely well-defined independent of the application. Therefore, Subsection
2d requires that any application-supplied function or table used by this
function must be optional: if the application does not supply it, the square
root function must still compute square roots.) 

These requirements apply to the modified work as a whole. If identifiable
sections of that work are not derived from the Library, and can be reasonably
considered independent and separate works in themselves, then this License, and
its terms, do not apply to those sections when you distribute them as separate
works. But when you distribute the same sections as part of a whole which is a
work based on the Library, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the entire whole,
and thus to each and every part regardless of who wrote it. 

Thus, it is not the intent of this section to claim rights or contest your
rights to work written entirely by you; rather, the intent is to exercise the
right to control the distribution of derivative or collective works based on the
Library. 

In addition, mere aggregation of another work not based on the Library with the
Library (or with a work based on the Library) on a volume of a storage or
distribution medium does not bring the other work under the scope of this
License. 

3. You may opt to apply the terms of the ordinary GNU General Public License
instead of this License to a given copy of the Library. To do this, you must
alter all the notices that refer to this License, so that they refer to the
ordinary GNU General Public License, version 2, instead of to this License. (If
a newer version than version 2 of the ordinary GNU General Public License has
appeared, then you can specify that version instead if you wish.) Do not make
any other change in these notices. 

Once this change is made in a given copy, it is irreversible for that copy, so
the ordinary GNU General Public License applies to all subsequent copies and
derivative works made from that copy. 

This option is useful when you wish to copy part of the code of the Library into
a program that is not a library. 

4. You may copy and distribute the Library (or a portion or derivative of it,
under Section 2) in object code or executable form under the terms of Sections 1
and 2 above provided that you accompany it with the complete corresponding
machine-readable source code, which must be distributed under the terms of
Sections 1 and 2 above on a medium customarily used for software interchange. 

If distribution of object code is made by offering access to copy from a
designated place, then offering equivalent access to copy the source code from
the same place satisfies the requirement to distribute the source code, even
though third parties are not compelled to copy the source along with the object
code. 

5. A program that contains no derivative of any portion of the Library, but is
designed to work with the Library by being compiled or linked with it, is called
a "work that uses the Library". Such a work, in isolation, is not a derivative
work of the Library, and therefore falls outside the scope of this License. 

However, linking a "work that uses the Library" with the Library creates an
executable that is a derivative of the Library (because it contains portions of
the Library), rather than a "work that uses the library". The executable is
therefore covered by this License. Section 6 states terms for distribution of
such executables. 

When a "work that uses the Library" uses material from a header file that is
part of the Library, the object code for the work may be a derivative work of
the Library even though the source code is not. Whether this is true is
especially significant if the work can be linked without the Library, or if the
work is itself a library. The threshold for this to be true is not precisely
defined by law. 

If such an object file uses only numerical parameters, data structure layouts
and accessors, and small macros and small inline functions (ten lines or less in
length), then the use of the object file is unrestricted, regardless of whether
it is legally a derivative work. (Executables containing this object code plus
portions of the Library will still fall under Section 6.) 

Otherwise, if the work is a derivative of the Library, you may distribute the
object code for the work under the terms of Section 6. Any executables
containing that work also fall under Section 6, whether or not they are linked
directly with the Library itself. 

6. As an exception to the Sections above, you may also combine or link a "work
that uses the Library" with the Library to produce a work containing portions of
the Library, and distribute that work under terms of your choice, provided that
the terms permit modification of the work for the customer's own use and reverse
engineering for debugging such modifications. 

You must give prominent notice with each copy of the work that the Library is
used in it and that the Library and its use are covered by this License. You
must supply a copy of this License. If the work during execution displays
copyright notices, you must include the copyright notice for the Library among
them, as well as a reference directing the user to the copy of this License.
Also, you must do one of these things: 


a) Accompany the work with the complete corresponding machine-readable source
code for the Library including whatever changes were used in the work (which
must be distributed under Sections 1 and 2 above); and, if the work is an
executable linked with the Library, with the complete machine-readable "work
that uses the Library", as object code and/or source code, so that the user can
modify the Library and then relink to produce a modified executable containing
the modified Library. (It is understood that the user who changes the contents
of definitions files in the Library will not necessarily be able to recompile
the application to use the modified definitions.) 
b) Use a suitable shared library mechanism for linking with the Library. A
suitable mechanism is one that (1) uses at run time a copy of the library
already present on the user's computer system, rather than copying library
functions into the executable, and (2) will operate properly with a modified
version of the library, if the user installs one, as long as the modified
version is interface-compatible with the version that the work was made with. 
c) Accompany the work with a written offer, valid for at least three years, to
give the same user the materials specified in Subsection 6a, above, for a charge
no more than the cost of performing this distribution. 
d) If distribution of the work is made by offering access to copy from a
designated place, offer equivalent access to copy the above specified materials
from the same place. 
e) Verify that the user has already received a copy of these materials or that
you have already sent this user a copy. 
For an executable, the required form of the "work that uses the Library" must
include any data and utility programs needed for reproducing the executable from
it. However, as a special exception, the materials to be distributed need not
include anything that is normally distributed (in either source or binary form)
with the major components (compiler, kernel, and so on) of the operating system
on which the executable runs, unless that component itself accompanies the
executable. 

It may happen that this requirement contradicts the license restrictions of
other proprietary libraries that do not normally accompany the operating system.
Such a contradiction means you cannot use both them and the Library together in
an executable that you distribute. 

7. You may place library facilities that are a work based on the Library
side-by-side in a single library together with other library facilities not
covered by this License, and distribute such a combined library, provided that
the separate distribution of the work based on the Library and of the other
library facilities is otherwise permitted, and provided that you do these two
things: 


a) Accompany the combined library with a copy of the same work based on the
Library, uncombined with any other library facilities. This must be distributed
under the terms of the Sections above. 
b) Give prominent notice with the combined library of the fact that part of it
is a work based on the Library, and explaining where to find the accompanying
uncombined form of the same work. 
8. You may not copy, modify, sublicense, link with, or distribute the Library
except as expressly provided under this License. Any attempt otherwise to copy,
modify, sublicense, link with, or distribute the Library is void, and will
automatically terminate your rights under this License. However, parties who
have received copies, or rights, from you under this License will not have their
licenses terminated so long as such parties remain in full compliance. 

9. You are not required to accept this License, since you have not signed it.
However, nothing else grants you permission to modify or distribute the Library
or its derivative works. These actions are prohibited by law if you do not
accept this License. Therefore, by modifying or distributing the Library (or any
work based on the Library), you indicate your acceptance of this License to do
so, and all its terms and conditions for copying, distributing or modifying the
Library or works based on it. 

10. Each time you redistribute the Library (or any work based on the Library),
the recipient automatically receives a license from the original licensor to
copy, distribute, link with or modify the Library subject to these terms and
conditions. You may not impose any further restrictions on the recipients'
exercise of the rights granted herein. You are not responsible for enforcing
compliance by third parties with this License. 

11. If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues), conditions
are imposed on you (whether by court order, agreement or otherwise) that
contradict the conditions of this License, they do not excuse you from the
conditions of this License. If you cannot distribute so as to satisfy
simultaneously your obligations under this License and any other pertinent
obligations, then as a consequence you may not distribute the Library at all.
For example, if a patent license would not permit royalty-free redistribution
of the Library by all those who receive copies directly or indirectly through
you, then the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Library. 

If any portion of this section is held invalid or unenforceable under any
particular circumstance, the balance of the section is intended to apply, and
the section as a whole is intended to apply in other circumstances. 

It is not the purpose of this section to induce you to infringe any patents or
other property right claims or to contest validity of any such claims; this
section has the sole purpose of protecting the integrity of the free software
distribution system which is implemented by public license practices. Many
people have made generous contributions to the wide range of software
distributed through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing to
distribute software through any other system and a licensee cannot impose that
choice. 

This section is intended to make thoroughly clear what is believed to be a
consequence of the rest of this License. 

12. If the distribution and/or use of the Library is restricted in certain
countries either by patents or by copyrighted interfaces, the original copyright
holder who places the Library under this License may add an explicit 
geographical distribution limitation excluding those countries, so that
distribution is permitted only in or among countries not thus excluded. In such
case, this License incorporates the limitation as if written in the body of this
License. 

13. The Free Software Foundation may publish revised and/or new versions of the
Lesser General Public License from time to time. Such new versions will be
similar in spirit to the present version, but may differ in detail to address
new problems or concerns. 

Each version is given a distinguishing version number. If the Library specifies
a version number of this License which applies to it and "any later version",
you have the option of following the terms and conditions either of that version
or of any later version published by the Free Software Foundation. If the
Library does not specify a license version number, you may choose any version
ever published by the Free Software Foundation. 

14. If you wish to incorporate parts of the Library into other free programs
whose distribution conditions are incompatible with these, write to the author
to ask for permission. For software which is copyrighted by the Free Software
Foundation, write to the Free Software Foundation; we sometimes make exceptions
for this. Our decision will be guided by the two goals of preserving the free
status of all derivatives of our free software and of promoting the sharing and
reuse of software generally. 

NO WARRANTY 

15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR THE
LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED
IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE LIBRARY "AS
IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT
NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
LIBRARY IS WITH YOU. SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME THE COST OF
ALL NECESSARY SERVICING, REPAIR OR CORRECTION. 

16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL
ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR REDISTRIBUTE THE
LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR
INABILITY TO USE THE LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA
BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF SUCH HOLDER
OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. 


END OF TERMS AND CONDITIONS

      </synopsis>
    </para>
  </appendix>
</book>


</set>
