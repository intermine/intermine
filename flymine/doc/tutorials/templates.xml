<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD Simplified DocBook XML V1.0//EN"
"http://www.oasis-open.org/docbook/xml/simple/1.0/sdocbook.dtd">
<article>
  <section>
    <title>Tutorial 3: <emphasis>Running template queries</emphasis></title>

    <para>To enable you to quickly and easily carry out a range of
    queries across the data, FlyMine includes a library of predefined
    template queries. A template consists of a query form
    in which certain variables can be changed. The variables are
    constraints (filters) on certain types of data, so that a subset
    of that type of data is defined.</para>

    <para>This tutorial will guide you through running a template
    query.  The template query 'Search for GO annotations for a
    particular gene' will be used as an example.</para>

    <para>Template queries can be accessed in three ways.</para>
    <itemizedlist>
      <listitem><para>Each 'aspect' page has a set of template queries related to that data type.</para></listitem>
      <listitem><para>Through the 'Search templates' feature on the home page and in the top menu on every page.</para></listitem>
      <listitem><para>Templates also appear on object details pages (see <ulink url="objectDetails.xml">Tutorial 2</ulink>).  
        </para></listitem>
    </itemizedlist>

    <para>In this tutorial the template query will be accessed through the Genomics aspect.</para>

    <para>The FlyMine home page shows a series of 'aspects'. These
    provide a 'view' of a particular type of data and how this can be 
    linked with other types of data. Each aspect includes a set of 
    template queries which range from simple queries involving just that
    data type to more complex queries which integrate with data from 
    other aspects.</para>

    <para>Click on the 'Genomics' aspect to go to the genomics aspect
    page.</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="templatesAspect.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
    


    <para>Find the 'Related template queries' section and scroll down
    to find the template 'Search for GO annotations for a particular
    gene':</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="templatesList.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
    

   <para>Clicking on the arrow next to a template query takes you to
    the template query form:</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="templatesForm.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>


    <para>This template query has two variables which can be changed
     (or left as the default, all template queries have default values
     for variables).  The first variable has a label
     'synonym value = '.  This means that you can enter any type of
     gene identifier supported by FlyMine (rather than being limited
     to a specific type of identifier).  For <emphasis>D. melanogaster</emphasis> genes,
     therefore, you could enter an FBgn identifier, CG identifier or a
     gene symbol.  Change the default value for this variable
     to 'zen'.</para>

     <para>The second variable asks for an organism.  The organism is
     specified for this template because a gene symbol or name may be
     used by for genes in more than one organism. Notice that the organism can be
     selected from a drop-down list.  Leave the organism name set to
     'Drosophila melanogaster'.</para>


     <para>At the bottom of the template form are two options: 'View
     Query' and 'View Results'.  The 'View Query' option allows you to
     display the template in the FlyMine query builder.  This option
     enables you to use a template query as a starting point for
     building a modified or more complex query, or to see how a
     certain query may be constructed using the query builder. The
     'View Results' option allows you to just run the template query
     as it is and go directly to the results.</para>

     <para>Press 'View Results' to see a results table from running
     this query:</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="templatesResults.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
     
     <para>Go back to the template query form and press 'View Query'
     to see this query in the QueryBuilder.  Here you can add more
     fields to the output or add further constraints.  See the <ulink url="../manual/index.xml">user manual</ulink>
     and <ulink url="index.xml">tutorials</ulink> for more information
     on how to do this.</para>

      <mediaobject>
          <imageobject>
            <imagedata fileref="templatesBuilder.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
     
    
  </section>
</article>
