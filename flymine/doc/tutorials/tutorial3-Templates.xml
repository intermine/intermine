<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD Simplified DocBook XML V1.0//EN"
"http://www.oasis-open.org/docbook/xml/simple/1.0/sdocbook.dtd">
<article>
  <section>
    <title>Tutorial 3: Running template queries</title>

    <para>FlyMine presents data as 'Aspects', with each aspect
    providing a 'view' of a particular type of data (for example Gene
    Expression or Protein Interactions). To enable you to quickly and
    easily carry out a range of queries across the data, FlyMine
    includes a library of predefined Template Queries. A template
    consists of a query form in which certain variables can be
    changed. The variables are constraints (filters) on certain types
    of data, so that a subset of that type of data is defined.</para>

    <para>Template queries can be accessed in three ways.</para>
    <itemizedlist> 
      <listitem><para>Through the 'Search templates' feature on the 
      home page and in the top menu bar on every page.</para></listitem>
      <listitem><para>Templates also appear on object details pages.</para></listitem>
     <listitem><para>Each 'Aspect' page has a set of template queries
      related to that data type.</para></listitem>
    </itemizedlist>

    <para>Each template has a 'short' name and a longer
    description. The short name is formatted as 'query starting
    point(s) --> 'query output' and allows you to easily 'scan' the set
    of templates available.  The longer description can be seen when
    you access the template form.</para>

    <para>This tutorial will guide you through running a template
    query. The template query 'Gene --> GO terms ('Search for GO
    annotations for a particular gene') will be used as an
    example. Here, this template query will be accessed through the
    Gene Ontology aspect. Click on the 'Gene Ontology' aspect to go to
    the Gene Ontology aspect page.</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="GO-homepage.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
    
    <para>Find the 'Related template queries' section and scroll down
    to find the template 'Gene --> GO terms'.</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="GO-aspect.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
    
    <para>Clicking on the circled 't' next to a template query takes
    you to the template page.</para>

    <para>Notice that the template short name and a longer description
    is now displayed. </para>

    <para>This template query has one variable which can be changed
    (or left as the default, all template queries have default values
    for variables).  The variable has a label 'Gene identifier = '.
    This means that you can enter any type of gene identifier
    supported by FlyMine. For <emphasis>D. melanogaster</emphasis>
    genes, therefore, you should enter a CGxxxx identifier. Change the
    default value for this variable to 'CG1046'.</para>

 



       <mediaobject>
          <imageobject>
            <imagedata fileref="GO-template.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

     <para>At the bottom of each template form are two options: 
     'Show Results' and 'Edit Query'.</para>    
 
   <para>Pressing the 'Show Results' button will take you directly to
       your results page, from where you will be able to access more
       information about each object by following the links.</para>

       <mediaobject>
          <imageobject>
            <imagedata fileref="GO-template-results.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>
 
   <para>The 'Edit Query' option allows you
      to display the template in the FlyMine Query Builder. This
      option enables you to use a template query as a starting point
      for building a modified or more complex query, or to see how a
      certain query may be constructed using the query builder (see
      <ulink url="tutorial6-QB.xml">Tutorial 6</ulink> for more
      information).</para>
   

      <mediaobject>
          <imageobject>
            <imagedata fileref="GO-template-QB.png" />
          </imageobject><textobject><phrase> </phrase></textobject>
        </mediaobject>

     <para>Other examples:</para>
     <itemizedlist>

       <listitem><para>'All genes organism1 --> Orthologues organism2'
       (Show the predicted orthologues between two
       organisms). (Comparative Genomics aspect).</para></listitem>

       <listitem><para>'Protein [D. melanogaster] --> Interacting
       proteins + C. elegans orthologues that have an RNAi
       phenotype' (For a particular protein from Drosophila melanogaster,
       show the proteins it has been shown to interact with and that
       have an orthologue in C. elegans with an associated RNAi
       phenotype). (Protein Interactions, Comparative Genomics, RNAi
       aspect). This template demonstrates how it is possible to query
       different types of data at once in FlyMine.</para></listitem>

       <listitem><para>Use the 'Search templates' option (top menu
       bar) with a keyword (e.g. GO term, protein). You will notice
       the search results are graded according to their level of match
       to your query.</para></listitem>

    </itemizedlist>

  </section>
</article>

