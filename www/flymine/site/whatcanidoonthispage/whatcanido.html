
<h1 id="begin">The FlyMine Homepage</h1>
				   
<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>


<p> The FlyMine home page provides starting points to the different
ways in which data can be accessed, queried and manipulated.  The
<b>toolbar</b> is repeated on every page to make navigation
through all these options more easy:</p>

<img alt="[begin]" src="home_toolbar.png"/>

<p>Have a look at our <b>tips</b> to find out more about FlyMine:</p>
<img alt="[begin]"  src="home_tip.png"/>

</div>



<div id="access" class="tabset_content">
<h2 class="tabset_label">Accessing data</h2>

<p>There are four ways to query or access the data in FlyMine, all can be directly accessed from the homepage (or from the toolbar on every FlyMine page):</p>

   <p>1. <b>Search</b> - allows you to browse all the available data
   for one particular object. Type in any identifier to see a report
   page. You can also use the Search box to quickly find a template or
   list. However, the Lists and Templates pages provide
   more advanced search options!</p>

       <img alt="[begin]"  src="home_quicksearch.png"/>


    <p>2. <b>Templates</b> - are predefined queries that allow you to
    quickly and easily run a query. There are currently more than 150
    templates. You can also make them yourself with the
    QueryBuilder, or, we can make them for you - it only takes a
    few minutes - so if you have a wish, let us know!</p>

       <img alt="[begin]"  src="home_templates.png"/>

    <p>3. <b>Lists</b> - allows you to view and analyse lists and run
    queries on the entire list in one go. There are some public lists available or you can make your own lists!</p>

       <img alt="[begin]"  src="home_lists.png"/>

    <p>4. <b>Query Builder</b> - allows you to build you own custom query</p>

      <img alt="[begin]"  src="home_QB.png"/>

      <p>Finally, different data types (called data categories) are
      listed to give an immediate overview of what FlyMine has to
      offer! The icons will bring you to the resepective data category
      pages.</p>
  
    <img alt="[begin]"  src="home_data.png"/>

</div>

<h1 id="templates">Templates</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p> This page shows all public templates, as well as your own (marked
with 'my') - if you are logged in. Templates are predefined queries,
each has a simple form and a description. Clicking on a template will
display the template form allowing you to run or edit the query. </p>

<p><b>We can add templates to this page at any time - it only takes a few
minutes - so if you have a suggestion, let us know!</b></p>

</div>

<div id="searching" class="tabset_content">
<h2 class="tabset_label">Searching Templates</h2>

<p> You can search templates by keywords (eg gene, orthologue,
FlyAtlas). By default, templates from all data categories will be
searched. Optionally, you can restrict your search to a certain data
type. If you are logged in, public templates as well as your own
templates will be searched, by default.</p>

<img alt="[Templates]"  src="templates_search.png"/>

<p> In the example below, only 'My templates' will be searched (not the public ones), and only templates that I have marked as 'My Favourites'. </p>

<img alt="[Templates]"  src="templates_filter.png"/>

</div>


<h1 id="lists">Lists</h1>

<div id="upload" class="tabset_content">
<h2 class="tabset_label">Upload</h2>


<p>FlyMine can operate on lists of data.  Lists can then be analysed
on a list analysis page, or can be used in (template) queries. The
Upload page allows you to create a list yourself. The list can contain
a mix of identifier types (eg symbols, names, organism database id,)
but it cannot contain different object types (eg a list of genes and
proteins is currently not possible).</p>

<p>To create a list, follow these steps:</p> 

<img alt="[Lists]"  src="lists_upload.png"/>



<table class="inlinetable">
<tr>

<td valign="center" width="30%">  

and then click on </td>

<td valign="center" width="60%">
<img alt="[Lists]"  src="lists_upload_create.png"/></td>
</tr> 
</table>

Note that the identifiers must be separated by commas (or by lines), eg:
<pre>
  eve, zen, Enhancer of zeste, CG32211
</pre>
not:
<pre>
  eve zen Enhancer of zeste CG32211

</pre>
</div>

<div id="view" class="tabset_content">
<h2 class="tabset_label">View</h2>

<p>The View page shows all public lists (name starting with 'PL'), as
well as your own (marked with 'my') - if you are logged in. Clicking
on a List name will show the List analysis page for this list. </p>

<p><b>We can add new public lists at any time - it only takes a few
minutes - so if you have a suggestion, let us know!</b></p>

<img alt="[Lists]"  src="lists_view.png"/>

<p>You can merge lists, subtract lists and find common members between lists.</p>


<p><i>As an example, an subtraction of 2 lists is shown:</i></p>


<img alt="[Lists]"  src="lists_subtract1.png"/>

<img alt="[Lists]"  src="lists_subtract2.png"/>


</div>



<h1 id="customQuery">QueryBuilder</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p> Advanced users can use a flexible query interface to construct
their own data mining queries. This page gives access to the QueryBuilder. </p>

<img alt="[QueryBuilder page]"  src="querybuilder_select.png"/>

<p> A set of actions allows you to browse the full FlyMine data model,
import a query you or someone else has previously saved as XML or view
all of your saved queries in your MyMine account.  </p>

<img alt="[QueryBuilder page]"  src="querybuilder_actions.png"/>

<p>All the queries you have run during this session are also listed
on this page under 'Query History'. Your Query History can also be found
under MyMine.</p>


<img alt="[QueryBuilder page]"  src="querybuilder_history.png"/>




</div>

<h1 id="data">Data</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p> The Data page gives an overview of all the data in FlyMine as well
as their source. To provide a better overview, FlyMine groups data
together in '<b>data categories</b>'. The icons (or their title) will
bring you to the corresponding data category page, where you can run a
predefined template query, build your own query , and have access to
bulk download. Certain template queries, as well as the QueryBuilder
itself, allow you to perform searches that span more than one data
category.</p>


</div>


<h1 id="mymine">MyMine</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>


<p>You can create a MyMine account by logging-in to FlyMine.  (You only
need to provide an email address and a password to generate an
account, there is no other information required.).  Creating a myMine
account allows you to permanently save lists, queries and templates - the MyMine
pages allow you to manage these.  Your saved data is always private.</p>



</div>

<div id="lists" class="tabset_content"><h2 class="tabset_label">Lists</h2>

<p>The lists tab shows all your permanently saved lists and any lists
you have made this session if you are not logged in.  If you are
logged in, or if you log-in during a session, any lists you have made
will automatically be permanently saved.  You can change the name
of a list, delete lists and perform logical operations on lists on
this page.</p>

<img alt="[Mymine Page]"  src="MyMine_lists.png"/>



</div>

<div id="queryHistory" class="tabset_content"><h2 class="tabset_label">Query History</h2>


<p>All queries that you run are saved in your Query History with the
default name 'query_x' (where x increments for each query run). These
queries will only be saved during the time of the current session. To
save queries permanently and to import queries, you need to be
logged-in. Exporting and saving a query will will not delete it from
your query history during that session.</p>

<img alt="[Mymine Page]"  src="MyMine_history.png"/>


</div>
<div id="savedQueries" class="tabset_content"><h2 class="tabset_label">Saved Queries</h2>


<p>This page lists all queries that you have saved before. They will
be saved permanently. If you import a query with a name identical to
an existing query it will get an automatic extension to make it
unique, e.g. dmel-proteins-1, dmel-proteins-2.</p>

<img alt="[Mymine Page]"  src="MyMine_savedqueries.png"/>

</div>
<div id="savedTemplates" class="tabset_content"><h2 class="tabset_label">Saved Templates</h2>

 <p>The 'Saved Templates' page provides a list of all templates that
 you created yourself or have imported. They will be saved
 permanently. If you import a template query with a name identical to
 an existing query it will get an automatic extension to make it unique,
 e.g. dmel-proteins-1, dmel-proteins-2.</p>


<img alt="[Mymine Page]"  src="MyMine_savedtemplates.png"/>



</div>
<div id="changePassword" class="tabset_content"><h2 class="tabset_label">Change Password</h2>

<p> This page allows you to change your FlyMine password.</p>

</div>




<h1 id="dataCategory">Data Category Page</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>


<p>The FlyMine website presents the principle data types grouped
together as different 'data categories', such as protein interactions or gene
expression.</p>

<p><i>As an example, 'the transcriptional regulation' category is shown.</i></p>

<p> Each data category page lists:</p>

    <p>1. <b>Current data</b> - background information on the origin of particular source datasets</p>
    <p>2. <b>Bulk download</b> - access to convenient derivative bulk datasets for browsing or export in standard format:</p>

<img alt="[Aspect Page]"  src="aspect_top.png"/>

    <p>3. Relevant predefined <b>template queries</b>:</p>

<img alt="[Aspect Page]"  src="aspect_templates.png"/>


    <p>4. <b>Query starting points</b> - classes for use as starting points in the Query Builder:</p>

<img alt="[Aspect Page]"  src="aspect_querystart.png"/>

</div>


<h1 id="reportPage">Report Page</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p>For every object in the FlyMine database there is a report page
which provides all the data that Flymine has available for that object
along with additional information such as the GBrowse genome viewer
for sequence features.</p>


<p>All report pages have the same basic structure: The top part
provides <b>summary information</b> for every object, whereas the lower part,
<b>Further Information by category</b> has more detailed information
divided into different data types or categories</p>

<p><i>As an example the report page for the </i>even-skipped<i> gene is shown.</i></p>

<img alt="[Report Page]"  src="report_top.png"/>

<p> Template queries are run for this object when the page is loaded. We
can add templates to this page at any time - it only takes a few
minutes - so if you have a suggestion, let us know.  </p>

<img alt="[Report Page]"  src="report_bottom.png"/>



</div>

<h1 id="template">The Template Form</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p><i>As an example, the form is shown for the template 'Gene --&gt;
Orthologues + GO terms of these orthologues'</i>. This template takes a
particular gene as input and searches for orthologues that have GO
annotation.</p>


<p>You can leave the box with the default value shown or you can enter
any identifier and FlyMine will try to find the right gene. For
example, for the <i>D. melanogaster</i> gene zen you can enter 'zen',
'CG1046', 'FBgn0004053', 'zerknullt' or any synonym.  You can even
enter a transcript (CG1046-RA) or protein (ZEN1_DROME) identifier and
FlyMine will convert it for you. Alternatively, you can leave the
default value.</p>

<p>
<img  alt="[Template form]"  src="templform.png"/>
</p>

<p><b>OR</b></p> 

<p>Any variable (box) in a template query can be constrained to a list
(or 'not in' a list) rather than to a single value, provided you have a
list of the correct type saved in 'MyMine'. To constrain a query to a
list, select the checkbox underneath the variable box and choose the
list from the drop-down list.</p>

<p>
<img  alt="[Template form]"  src="templform_list.png"/>
</p>



<table class="inlinetable">
<tr>
<td padding="5px" valign="center"><img alt="[Template form]" src="templform_showresults.png"/></td>
<td valign="center" width="80%"> will take you directly to the results page.</td> 
</tr> 
</table>


<table class="inlinetable">
<tr>
<td padding="5px" valign="center"><img alt="[Template form]" src="templform_editquery.png"/></td>
<td valign="center" width="80%">will display the template query in the FlyMine Query Builder. Here you can change the output of the query or add a filter to build a different query.</td> 
</tr> 
</table>


</div>

<h1 id="results">Results Page</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>


<p> The results for the template 'Gene --&gt; Orthologues + GO
    terms of these orthologues' shows the starting gene, orthologous
    genes and organism names with details of each GO term applied to
    the orthologous genes. Orthologue data in FlyMine come from <a
    href="http://inparanoid.sbc.su.se/">InParanoid</a>. Note that
    'main' means the best hit in the other organism, 'secondary'
    denotes paralogues of the best hit.</p>

<p>
<img alt="[Results Page]"  src="results.png"/>
</p>

<p><b>Summary buttons</b> <img alt="[icon]" src="sigma.png"
valign="center"/> at the top of each column allow you to view some
summary statistics. For names and identifiers it will tell you about
unique values, numerical data gives the min, max, mean and standard
deviation. In case of the example abobe, the summary button for the
column 'Orthologue > GO annotation > name' shows you the most commonly
occurring GO terms applied to orthologues of the original gene. (Note:
it only shows the first 10 rows of summary).</p>


<p>
<img alt="[Results Page]"  src="results_summary.png"/>
</p>


</div>


<div id="export" class="tabset_content">
<h2 class="tabset_label">Exporting and saving results</h2>

<p> - All results pages have a number of <b>export options</b>:</p>

<p>
<img alt="[Results Page]"  src="results_export.png"/>
</p>


<p>Currently, either the entire results table or specific columns can be
exported. If nothing is selected, the entire data set will be
exported. If you do not wish to export certain columns these can be
hidden using the small double arrow in the column header.</p>

<p>
<img alt="[Results Page]"  src="results_select_export.png"/>
</p>

<p> If the results table contains a column with objects that have a
nucleotide or amino acid sequence, it is possible to export all
sequences from that column in FASTA format. Currently, the FASTA
export option will export the sequences belonging to objects in the
first visible (i.e. not hidden) column only. Columns can be moved to
the first position by using the arrows in the header. If objects
appear more than once in the column, the sequence will only be
exported once.</p>


<p> - Results pages also allow you to <b>save your data to a new list or
add them to an existing list</b>:</p>

<p>
<img alt="[Results Page]"  src="results_list.png"/>
</p>


<p>Select the required data and either add it to an existing list or
save it to a new list. Selecting the check boxes next to the column
headings will select the entire column for saving. Alternatively,
individual items can be saved by selecting check-boxes next to the
items. Currently, a list can only contain one column. However, if you
have multiple columns for the same item (eg a column for gene
identifier and one for gene symbol), all related columns become
highlighted when you select the checkbox next to one. This is because
you are saving the actual item (eg the gene) to a list, not just the
identifier.</p>

<p>
<img alt="[Results Page]"  src="results_select_list.png"/>
</p>

</div>

<div id="output" class="tabset_content">
<h2 class="tabset_label">Changing the output</h2>

<p>To change the output of the results table, click on 'query' at the top of the results page: </p>

<img alt="[Results Page]" src="results_trail.png"/>.


<p>This will display the template form again, and </p>

<table class="inlinetable">
<tr>

<td padding="5px" valign="center"><img alt="[Template form]" src="templform_editquery.png"/></td>
<td valign="center" width="80%"> will display the template query in the FlyMine Query Builder.</td> 

</tr> 
</table>
</div>


<h1 id="listAnalysis">List Analysis Page</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p>A list analysis page provides the following information:</p>
   
<p>1.<b> List contents</b>: A table summarising the contents of your
list. Only up to ten items are shown. You can enter a description for
your list, which might be useful if you want to use your list again at
a later point.  A set of actions allow you to use and export your list. </p>

<img alt="[List Analysis Page]" src="listpage_list.png"/>

   
<p>2. <b>Widgets</b>: Widgets provide additional information about the
contents of your list. Widgets are currently only available for lists
of genes. The types of data shown through widgets will increase in
future releases of FlyMine.</p>


<img alt="[List Analysis Page]" src="listpage_widgets.png"/>
  
<p>3. <b>Templates</b>: A set of template queries which have been
automatically run on all the items in your list. </p>

<img alt="[List Analysis Page]" src="listpage_templates.png"/>

</div>

<h1 id="buildList">List Confirm Page</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p>The list that you upload is checked against the FlyMine database to
ensure that everything in your list can be found in FlyMine. 


<p><i>In the example below, only 22 out of 28 items were immediately recognized and added to the new list</i>:</p>

<img alt="[List Confirm Page]" src="listconfirm_summary.png"/>


<p>Any discrepancies are reported as follows:</p>

<p>1. <b>Low quality matches</b>: These are items in your list that do not
match a key (main) identifier in FlyMine but were found as
synonyms. This may mean you have a secondary (old) identifier or are
using a gene symbol that is not the official symbol for that gene. If
you are happy that the item identified is the correct one, you can add
it to your list by clicking on 'Add' in the last column.</p>

<p>2. <b>Duplicates</b>: These are items in your list that match more than
one entry in the database.</p>

 <p>3. <b>Converted types</b>: These are items in your list that matched
 something in FlyMine, but not of the type you selected. (For example,
 if you selected type=gene, but had a protein identifier in your
 list). FlyMine can convert these into the type you selected so that
 you can add the item to your list - click on 'Add' in the last column.</p>


 <p>4. <b>Unresolved identifiers</b>: These are items in your list that were
 either not found in FlyMine, could not be converted to the type you
 selected or matched objects from an organism other than the one you
 selected.</p>



<p><i>An example of 'Duplicate items' is shown below.</i></p>

<img alt="[List Confirm Page]" src="listconfirm_duplicates.png"/>


<p> You can go over the list of 'Additional matches' and decide which
one you want to include in your list. Alternatively, you can select
all of them at once as follows:</p>

<img alt="[List Confirm Page]" src="listconfirm_saveall.png"/></p>

<p>You can then give a name for your new list and click save:</p>

<img alt="[List Confirm Page]" src="listconfirm_save.png"/>


<p>This will save your list in MyMine and take you to the corresponding List Analysis Page for this new list.</p>


</div>


<h1 id="query">QueryBuilder Page</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p>The Query Builder allows you to construct your own custom queries or edit a template query.  It consists of the following sections:</p>

<p>1. <b>The Model Browser</b>: Allows you to browse the FlyMine data model and select the data you wish to query.</p>

<p>2. <b>Query Summary</b>: Shows the set of constraints (filters) you have applied to the data. </p>

<p>3. <b>Constraint editor</b>: Allows you to add and edit constraints. </p>

<p>4. <b>Output columns</b>: Shows the columns you have selected for your results table and allows you to select which column on which to sort the results. </p>

<p>5. <b>Sort order</b>: Shows which column is selected for sorting and allows you to change the sort direction. </p>



<img alt="[QueryBuilder Page]" src="querybuilder_overview.png"/>


</div>


<div id="modelbrowser" class="tabset_content">
<h2 class="tabset_label">Model Browser</h2>

<p>The model browser allows you to browse the FlyMine data model and select the data you wish to query.  The browser displays an initial starting class, which in the example below is 'Gene'.  If you are building a query from scratch you will have selected the initial starting class to start building your query.  From this initial class it is possible to browse to related classes.  Expanding a related class again shows classes related to that class and so on.  For each class there is also a set of relevant fields, such as Gene symbol and Gene identifier.  For each class and field there are two buttons:

<p>1. <b>Constrain</b>: Allows you to allows you to add a constaint (filter) to that particular class or field.</p>

<p>2. <b>Show</b>: Allows you to add that field to your results table output. </p>

<img alt="[QueryBuilder Page]" src="querybuilder_modelbrowser.png"/>


</div>

<div id="constraints" class="tabset_content">
<h2 class="tabset_label">Constraints</h2>


<p>Clicking on a constraint button in the model browser brings up a box on the left hand pane which allows you to define your constraint. If you are constraining a field the following constraint options will be available:

<p>1. <b>Filter query results on this field having a specific value</b>: Allows you to constrain your query to a single value.  An example would be constraining the Gene symbol field to 'Zen'.</p>
shoe
<p>2. <b>Filter query results on the contents of your list</b>: Allows you to constrain your query to a list of values.  The list can be selected from the drop down list which will contain both 'public' lists and any lists you have created yourself. </p>

<p>2. <b>Filter query results on this field having any value or not</b>: Allows you to constrain this field to data which either must have a value for this field or do not have a value for this field.</p>


<img alt="[QueryBuilder Page]" src="querybuilder_constrain.png"/>


</div>


<div id="output" class="tabset_content">
<h2 class="tabset_label">Results output</h2>


<p>Clicking on a show button next to a field in the model browser will
add that field to your 'Fields selected for output' list. This means
that data from that field will appear as a column in your results
table.  You can change the order of the columns by picking up the box
and moving it.  You can remove a column using the red cross.  You can
select which column on which the results should be sorted by clicking
on 'sort' within the relevant box - the sort direction can then be set
from the sort box below.  In the example below the results table will
contain three columns: Gene symbol, gene identifer and Go annotation
name. Each box shows the path taken in the model browser - eg Gene >
goAnnotation > name.  However, usually just the last two parts of the
path (eg goAnnotation > name) are enough to show you what will be in
that column.</p>


<img alt="[QueryBuilder Page]" src="querybuilder_resultsoutput.png"/>

</div>


<h1 id="tree">The Data Model</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>


<p>The FlyMine data tree shows all the classes in FlyMine, some of
which do not yet have data associated with them. You can use this page
to browse the data structure in FlyMine and to select a starting class to make your query.</p>

<img alt="[Tree page]"  src="tree.png"/>
</div>


<h1 id="importQueries">Import Queries</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>

<p> It is possible to import queries. The queries need to be in xml
format, as in the example below. You can import more than one query at
the same time by  by
enclosing them in the xml tags &lt;queries&gt;&lt;/queries&gt;. </p>

<p>- If you are not logged in, the query will automactically be displayed
in the QueryBuilder. You can save the query permanently when you're
logged in.

<p>- If you are logged in, the query will automatically be saved to MyMine
under 'Saved Queries'.</p>

<img alt="[importQueries]" src="importquery.png"/></p>


</div>


<h1 id="importTemplates">Import Template Query</h1>

<div id="basics" class="tabset_content">
<h2 class="tabset_label">The basics</h2>


<p> It is possible to import templates, but only when you are logged
in. The templates need to be in xml format, as in the example
below. You can import more than one template at the same time by
enclosing them in the xml tags
&lt;template-list&gt;&lt;/template-list&gt;. </p>

<p> - The template will be saved to MyMine under 'Saved Templates'.</p>

<img alt="[importTemplates]" src="importtemplate.png"/></p>
</div>
